(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,s){"use strict";var a=s(40);s.n(a).a},140:function(e,t,s){"use strict";var a=s(41);s.n(a).a},141:function(e,t,s){"use strict";var a=s(42);s.n(a).a},142:function(e,t,s){"use strict";var a=s(43);s.n(a).a},143:function(e,t,s){"use strict";var a=s(44);s.n(a).a},144:function(e,t,s){"use strict";var a=s(45);s.n(a).a},145:function(e,t,s){"use strict";var a=s(46);s.n(a).a},146:function(e,t,s){"use strict";var a=s(47);s.n(a).a},147:function(e,t,s){"use strict";var a=s(48);s.n(a).a},148:function(e,t,s){"use strict";var a=s(49);s.n(a).a},149:function(e,t,s){"use strict";var a=s(50);s.n(a).a},150:function(e,t,s){"use strict";var a=s(51);s.n(a).a},254:function(e,t,s){"use strict";var a=s(52);s.n(a).a},255:function(e,t,s){"use strict";var a=s(53);s.n(a).a},256:function(e,t,s){"use strict";var a=s(54);s.n(a).a},257:function(e,t,s){"use strict";var a=s(55);s.n(a).a},258:function(e,t,s){"use strict";var a=s(56);s.n(a).a},259:function(e,t,s){"use strict";s.r(t);var a=s(3),i=s(57),l={name:"app",created(){sessionStorage.length&&(this.$store.state.token=sessionStorage.getItem("token")),window.addEventListener("beforeunload",()=>{sessionStorage.setItem("token",this.$store.state.token)})}},r=(s(118),s(2)),n=Object(r.a)(l,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},[],!1,null,"323430e0",null).exports,o={token:"",allCases:[],caseReview_noSee:[],caseReview_yes:[],caseReview_no:[],stayCase:[],workCase:[],historyCase:[],fileCase:[],userList:[],track:[],labelPosition:[],labelProfession_in:[],labelProfession_out:[],labelType:[],suspectList:[],role:""},c={setAllCases(e,t){e.allCases=t},setToken(e,t){e.token=t},setCaseReview_noSee(e,t){e.caseReview_noSee=t},setCaseReview_yes(e,t){e.caseReview_yes=t},setCaseReview_no(e,t){e.caseReview_no=t},setStayCase(e,t){e.stayCase=t},setWorkCase(e,t){e.workCase=t},setHistoryCase(e,t){e.historyCase=t},setFileCase(e,t){e.fileCase=t},setUserList(e,t){e.userList=t},setTrack(e,t){e.track=t},setLabelProfession_in(e,t){e.labelProfession_in=t},setLabelProfession_out(e,t){e.labelProfession_out=t},setLabelPosition(e,t){e.labelPosition=t},setLabelType(e,t){e.labelType=t},setSuspect(e,t){e.suspectList=t},setRole(e,t){e.role=t}},h=s(1),u=s.n(h),d={name:"sign",data:()=>({form:{username:"",password:""}}),methods:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e})({login(){let e=s(8),t=u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}}),a=e.stringify({username:this.form.username,password:this.form.password});t.post("http://120.79.137.221:801/token-auth/",a).then(e=>{e.status&&(this.$router.push("/manager/caseReview"),this.setToken(e.data.token),this.setRole(e.data.role))}).catch(e=>{console.log(e)})}},Object(a.b)(["setToken","setRole"]))},m=(s(140),Object(r.a)(d,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sign"},[s("h1",[e._v("案件中心后台管理系统")]),e._v(" "),s("div",{staticClass:"sign_box"},[s("el-form",{attrs:{model:e.form}},[s("el-form-item",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.username,expression:"form.username"}],staticClass:"self-input",attrs:{type:"text",placeholder:"请输入账号"},domProps:{value:e.form.username},on:{input:function(t){t.target.composing||e.$set(e.form,"username",t.target.value)}}})]),e._v(" "),s("el-form-item",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"self-input",attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}})])],1),e._v(" "),s("el-button",{staticStyle:{width:"80%"},attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")])],1)])},[],!1,null,"442b47f9",null).exports),p={name:"Menu",data:()=>({activeIndex:"/",on_off:!0}),methods:{exit(){this.$router.push("/")}},computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e})({},Object(a.c)({token:e=>e.token,role:e=>e.role})),mounted(){0==this.role?this.on_off=!0:this.on_off=!1}},_=(s(141),Object(r.a)(p,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"manager"},[s("div",{staticClass:"left"},[s("div",{staticStyle:{color:"#ff2217","font-size":"12px",cursor:"pointer","margin-top":"20px"},on:{click:e.exit}},[e._v("退出")]),e._v(" "),s("el-menu",{staticClass:"el-menu-vertical-demo ",attrs:{router:!0,"background-color":"#324057","text-color":"#fff","active-text-color":"#20a0ff","default-active":e.activeIndex,"unique-opened":!0}},[s("el-menu-item",{attrs:{index:"/manager/caseReview",id:"leftClick"}},[s("span",[e._v("案件审核")])]),e._v(" "),s("el-menu-item",{attrs:{index:"/manager/caseRegistration"}},[s("span",[e._v("案件登记")])]),e._v(" "),s("el-menu-item",{attrs:{index:"/manager/stayCase"}},[s("span",[e._v("待办案件")])]),e._v(" "),s("el-menu-item",{attrs:{index:"/manager/workCase"}},[s("span",[e._v("在办案件")])]),e._v(" "),s("el-menu-item",{attrs:{index:"/manager/historyCase"}},[s("span",[e._v("历史案件")])]),e._v(" "),s("el-menu-item",{attrs:{index:"/manager/fileCase"}},[s("span",[e._v("归档案件")])]),e._v(" "),s("el-menu-item",{attrs:{index:"/manager/monitorCenter"}},[s("span",[e._v("监控中心")])]),e._v(" "),e.on_off?s("el-menu-item",{attrs:{index:"/manager/manageAccount"}},[s("span",[e._v("账户管理")])]):e._e(),e._v(" "),e.on_off?s("el-menu-item",{attrs:{index:"/manager/addAccount"}},[s("span",[e._v("新增账户")])]):e._e(),e._v(" "),s("el-menu-item",{attrs:{index:"/manager/changePass"}},[s("span",[e._v("修改密码")])]),e._v(" "),s("el-menu-item",{attrs:{index:"/manager/changeInfo"}},[s("span",[e._v("修改账户")])]),e._v(" "),s("el-menu-item",{attrs:{index:"/manager/manageLabel"}},[s("span",[e._v("标签管理")])]),e._v(" "),s("el-menu-item",{attrs:{index:"/manager/trackRecord"}},[s("span",[e._v("留痕日志")])]),e._v(" "),s("el-menu-item",{attrs:{index:"/manager/caseStatic"}},[s("span",[e._v("案件统计")])]),e._v(" "),s("el-menu-item",{attrs:{index:"/manager/weekSummary"}},[s("span",[e._v("每周总结")])]),e._v(" "),s("el-menu-item",{attrs:{index:"/manager/suspectBank"}},[s("span",[e._v("嫌疑人库")])])],1)],1),e._v(" "),s("div",{staticClass:"right"},[s("router-view")],1)])},[],!1,null,"8e8c1390",null).exports),f={name:"detailinfo",props:["a"]},v=(s(142),{props:["caseDetail","caseDetailReporter","caseDetailSuffer","caseDetailSuspect","caseDetailWitness","caseDetailProperty","show_suffer","show_suspect","show_witness","show_property"],components:{Info:Object(r.a)(f,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{attrs:{inline:!0}},[s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"姓名:"}},[e._v(e._s(e.a.name))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"性别:"}},[e._v(e._s(!0===e.a.gender?"男":"女"))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"年龄:"}},[e._v(e._s(e.a.age))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"民族:"}},[e._v(e._s(e.a.nation))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"职业或身份:"}},[e._v(e._s(e.a.profession))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"证件类型:"}},[e._v(e._s(e.a.identity_document))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"证件号:"}},[e._v(e._s(e.a.identity_number))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"文化程度:"}},[e._v(e._s(e.a.education))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"年级:"}},[e._v(e._s(e.a.grade))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"学院或单位:"}},[e._v(e._s(e.a.work_place))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"联系方式:"}},[e._v(e._s(e.a.phone))]),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"住址:"}},[e._v(e._s(e.a.home_addr))])],1)],1)},[],!1,null,"01a73592",null).exports},name:"caseDialog",methods:{}}),b=(s(143),Object(r.a)(v,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"detail_print"}},[s("div",{staticStyle:{"text-align":"left"}},[e._v("\n        报案类型\n        "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"案发时间:"}},[e._v(e._s(e.caseDetail.occur_time))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"报案类型:"}},[e._v(e._s(e.caseDetail.case_type))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"案件录入人:"}},[e._v(e._s(e.caseDetail.registrant.name))])],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[e._v("\n        报案人信息\n        "),s("hr"),e._v(" "),s("info",{attrs:{a:e.caseDetailReporter}})],1),e._v(" "),e.show_suffer?e._e():s("div",{staticStyle:{"text-align":"left","margin-bottom":"25px"}},[e._v("报案人与受害者为同一人")]),e._v(" "),e.show_suffer?s("div",{staticStyle:{"text-align":"left"}},[e._v("\n        受害人信息\n        "),s("hr"),e._v(" "),s("info",{attrs:{a:e.caseDetailSuffer}})],1):e._e(),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[e._v("\n        案发情况\n        "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"案发地点:"}},[e._v(e._s(e.caseDetail.occur_place))]),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"案发时间段:"}},[e._v("\n                "+e._s(e.caseDetail.start_time)+"—"+e._s(e.caseDetail.end_time)+"\n            ")]),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"案情:"}},[e._v(e._s(e.caseDetail.desc))])],1)],1),e._v(" "),e.show_suspect?s("div",{staticStyle:{"text-align":"left"}},[e._v("嫌疑人信息\n        "),s("hr"),e._v(" "),s("info",{attrs:{a:e.caseDetailSuspect}})],1):e._e(),e._v(" "),e.show_witness?s("div",{staticStyle:{"text-align":"left"}},[e._v("\n        案件证人信息\n        "),s("hr"),e._v(" "),s("info",{attrs:{a:e.caseDetailWitness}})],1):e._e(),e._v(" "),e.show_property?s("div",{staticStyle:{"text-align":"left"}},[e._v("\n        损失财物信息\n        "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"物品名称:"}},[e._v(e._s(e.caseDetailProperty.name))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"所有权性质:"}},[e._v("\n                "+e._s(!0===e.caseDetailProperty.is_private?"本人所有":"非本人所有")+"\n            ")]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"品牌:"}},[e._v(e._s(e.caseDetailProperty.brand))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"型号:"}},[e._v(e._s(e.caseDetailProperty.version))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"颜色:"}},[e._v(e._s(e.caseDetailProperty.color))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"其他特征:"}},[e._v(e._s(e.caseDetailProperty.other_feature))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"数量:"}},[e._v(e._s(e.caseDetailProperty.sum))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"购买时间:"}},[e._v(e._s(e.caseDetailProperty.bought_time))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"购置价格:"}},[e._v(e._s(e.caseDetailProperty.price))])],1)],1):e._e(),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"是否查看监控:"}},[e._v(e._s(e.caseDetail.saw_monitoring?"是":"否"))]),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"是否通知公安机关等部门:"}},[e._v(e._s(e.caseDetail.called_police?"是":"否")+"\n            ")])],1)],1)])},[],!1,null,"1721c8e9",null).exports),y={components:{caseDialog:b},data:()=>({dialogVisible:!1,caseReviewData:[],case_noSee:[],case_yes:[],case_no:[],caseDetail:{},caseDetailReporter:{},caseDetailSuffer:{},caseDetailSuspect:{},caseDetailWitness:{},caseDetailProperty:{},show_suffer:!0,show_suspect:!0,show_witness:!0,show_property:!0,show_reviewResult:!0,review:{yes_no:null,reason:""},rules:{yes_no:[{required:!0,message:"请选择审核是否通过"}],reason:[{required:!0,message:"请填写审核是否通过的原因",trigger:"blur"}]}}),methods:{print(){this.show_reviewResult&&(document.getElementsByClassName("dialog-footer")[0].style.display="none"),document.getElementsByClassName("print_detail_button")[0].style.display="none";let e=document.getElementById("detail_print").innerHTML;document.body.innerHTML=e,window.print(),window.location.reload()},getCases(e){u.a.create({headers:{"content-type":"application/x-www-form-urlencoded",Authorization:"JWT "+this.token}}).get("/api/v1/cases/").then(t=>{let s=[],a=[],i=[],l=t.data.length;for(let e=0;e<l;e++)0===t.data[e].check_status?s.push(t.data[e]):1===t.data[e].check_status?a.push(t.data[e]):2===t.data[e].check_status&&i.push(t.data[e]);this.case_noSee=s,this.case_yes=a,this.case_no=i,0===e&&(this.caseReviewData=this.case_noSee)}).catch(e=>{this.$message({message:"获取案件列表失败！",type:"error"})})},changeReview(e){0===e?(this.caseReviewData=this.case_noSee,this.show_reviewResult=!0):1===e?(this.caseReviewData=this.case_yes,this.show_reviewResult=!1):2===e&&(this.caseReviewData=this.case_no,this.show_reviewResult=!1)},showDetail(e){this.caseDetail={},this.caseDetailReporter={},this.caseDetailSuffer={},this.caseDetailSuspect={},this.caseDetailWitness={},this.caseDetailProperty={},this.show_suffer=!0,this.show_suspect=!0,this.show_witness=!0,this.show_property=!0,this.dialogVisible=!0,this.caseDetail=e,this.caseDetailReporter=e.reporter,e.sufferer?(this.caseDetailSuffer=e.sufferer,this.show_suffer=!0):this.show_suffer=!1,e.suspect?(this.caseDetailSuspect=e.suspect,this.show_suspect=!0):this.show_suspect=!1,e.witness?(this.caseDetailWitness=e.witness,this.show_witness=!0):this.show_witness=!1,e.property_loss?(this.caseDetailProperty=e.property_loss,this.show_property=!0):this.show_property=!1,this.review.yes_no=null,this.review.reason=""},review_case(e,t){this.$refs[t].validate(a=>{if(a){let a=s(8),i=u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}}),l=a.stringify({reason:this.review.reason,check_status:this.review.yes_no});i.post("/api/v1/cases/"+e+"/check/",l).then(e=>{this.closeDetail(),this.getCases(0),this.review.yes_no=null,this.review.reason="",this.$message({message:"审核成功!",type:"success"})}).catch(e=>{this.closeDetail(),this.$refs[t].resetFields(),this.$message({message:"审核失败!",type:"error"})})}})},closeDetail(){this.dialogVisible=!1},handleTime(e){if(e){return e.substring(0,19).replace("T"," ")}},handleEducation(e){switch(e.education){case 0:e.education="小学";break;case 1:e.education="初中";break;case 2:e.education="高中";break;case 3:e.education="专科";break;case 4:e.education="本科";break;case 5:e.education="硕士";break;case 6:e.education="博士"}},handleIdentityDocument(e){switch(e.identity_document){case 0:e.identity_document="护照";break;case 1:e.identity_document="学生证";break;case 2:e.identity_document="身份证"}}},mounted(){u.a.defaults.headers.common.Authorization="JWT "+this.token,this.getCases(0),this.$nextTick(()=>{this.changeReview(0)})},watch:{caseReviewData:function(){let e=this.caseReviewData.length;for(let t=0;t<e;t++)0===this.caseReviewData[t].check_status?this.caseReviewData[t].check_status="待审核":1===this.caseReviewData[t].check_status?this.caseReviewData[t].check_status="审核通过":2===this.caseReviewData[t].check_status&&(this.caseReviewData[t].check_status="审核未通过"),this.caseReviewData[t].occur_time=this.handleTime(this.caseReviewData[t].occur_time),this.handleEducation(this.caseReviewData[t].reporter),this.caseReviewData[t].sufferer&&this.handleEducation(this.caseReviewData[t].sufferer),this.caseReviewData[t].suspect&&this.handleEducation(this.caseReviewData[t].suspect),this.caseReviewData[t].witness&&this.handleEducation(this.caseReviewData[t].witness),this.handleIdentityDocument(this.caseReviewData[t].reporter),this.caseReviewData[t].sufferer&&this.handleIdentityDocument(this.caseReviewData[t].sufferer),this.caseReviewData[t].suspect&&this.handleIdentityDocument(this.caseReviewData[t].suspect),this.caseReviewData[t].witness&&this.handleIdentityDocument(this.caseReviewData[t].witness)}},computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e})({},Object(a.c)({token:e=>e.token}))},g=(s(144),Object(r.a)(y,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-dialog",{attrs:{title:"案件详情",width:"90%",visible:e.dialogVisible,"before-close":e.closeDetail},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("div",{attrs:{id:"detail_print"}},[s("case-dialog",{attrs:{caseDetail:e.caseDetail,caseDetailReporter:e.caseDetailReporter,caseDetailSuffer:e.caseDetailSuffer,caseDetailSuspect:e.caseDetailSuspect,caseDetailWitness:e.caseDetailWitness,caseDetailProperty:e.caseDetailProperty,show_suffer:e.show_suffer,show_suspect:e.show_suspect,show_witness:e.show_witness,show_property:e.show_property}}),e._v(" "),e.show_reviewResult?s("div",{staticStyle:{"margin-top":"20px"}},[s("el-form",{ref:"case_review",attrs:{model:e.review,rules:e.rules}},[s("el-form-item",{attrs:{label:"审核结果",prop:"yes_no"}},[s("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:e.review.yes_no,callback:function(t){e.$set(e.review,"yes_no",t)},expression:"review.yes_no"}},[e._v("通过")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:"2"},model:{value:e.review.yes_no,callback:function(t){e.$set(e.review,"yes_no",t)},expression:"review.yes_no"}},[e._v("不通过")])],1),e._v(" "),s("el-form-item",{attrs:{label:"原因",prop:"reason"}},[s("el-input",{model:{value:e.review.reason,callback:function(t){e.$set(e.review,"reason",t)},expression:"review.reason"}})],1)],1)],1):e._e(),e._v(" "),e.show_reviewResult?s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.review_case(e.caseDetail.id,"case_review")}}},[e._v("确 定")])],1):e._e(),e._v(" "),e.show_reviewResult?e._e():s("div",{staticStyle:{"text-align":"left"}},[e._v("\n                审核结果\n                "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"审核结果:"}},[e._v(e._s(e.caseDetail.check_status))]),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"原因:"}},[e._v(e._s(e.caseDetail.pass_reason))])],1)],1),e._v(" "),s("div",{staticClass:"print_detail_button",staticStyle:{"text-align":"left"}},[s("el-button",{attrs:{type:"message"},on:{click:e.print}},[e._v("点击打印")])],1)],1)]),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[s("el-button",{attrs:{type:"warning",id:"topClick"},on:{click:function(t){return e.changeReview(0)}}},[e._v("待审核案件")]),e._v(" "),s("el-button",{attrs:{type:"success"},on:{click:function(t){return e.changeReview(1)}}},[e._v("审核通过案件")]),e._v(" "),s("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.changeReview(2)}}},[e._v("审核未通过案件")])],1),e._v(" "),s("div",{staticStyle:{"margin-top":"50px"}},[s("el-table",{attrs:{data:e.caseReviewData,border:""}},[s("el-table-column",{attrs:{label:"案件编号",align:"center",prop:"case_id"}}),e._v(" "),s("el-table-column",{attrs:{label:"提交时间",align:"center",prop:"occur_time"}}),e._v(" "),s("el-table-column",{attrs:{label:"报案人",align:"center",prop:"reporter.name"}}),e._v(" "),s("el-table-column",{attrs:{label:"状态",align:"center",prop:"check_status"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return e.showDetail(t.row)}}},[e._v("查看")])]}}])})],1)],1)],1)},[],!1,null,"34928e3c",null).exports),w={data(){return{form:{name:"",phone:"",email:"",identity_card:"",role:0,username:"",password:""},rules:{name:[{required:!0,message:"请输入真实姓名",trigger:"blur"}],phone:[{required:!0,message:"请输入电话",trigger:"blur"}],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:"blur,change"}],identity_card:[{required:!0,message:"请输入身份证",trigger:"blur"}],username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,validator:(e,t,s)=>{""===t?s(new Error("请输入密码")):(""!==this.form.checkPass&&this.$refs.form.validateField("checkPass"),s())},trigger:"blur"}],checkPass:[{required:!0,validator:(e,t,s)=>{""===t?s(new Error("请再次输入密码")):t!==this.form.password?s(new Error("两次输入密码不一致!")):s()},trigger:"blur"}]}}},methods:{submitForm(e){this.$refs[e].validate(e=>{if(e){let e=s(8),t=u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}}),a=e.stringify({name:this.form.name,phone:this.form.phone,email:this.form.email,identity_card:this.form.identity_card,role:this.form.role,username:this.form.username,password:this.form.password});t.post("/api/v1/users/",a).then(e=>{this.resetForm("form"),this.$message({message:"添加成功！",type:"success"})}).catch(e=>{this.$message({message:"添加失败！",type:"error"})})}})},resetForm(e){this.$refs[e].resetFields()}},mounted(){u.a.defaults.headers.common.Authorization="JWT "+this.token},computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e})({},Object(a.c)({token:e=>e.token}))},k=Object(r.a)(w,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h3",{staticStyle:{"text-align":"left"}},[e._v("添加账户")]),e._v(" "),s("hr"),e._v(" "),s("el-form",{ref:"form",staticStyle:{width:"600px",margin:"50px auto"},attrs:{model:e.form,rules:e.rules,"label-position":"right","label-width":"100px"}},[s("el-form-item",{attrs:{label:"姓 名：",prop:"name"}},[s("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"电 话：",prop:"phone"}},[s("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"邮 箱：",prop:"email"}},[s("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"身份证：",prop:"identity_card"}},[s("el-input",{model:{value:e.form.identity_card,callback:function(t){e.$set(e.form,"identity_card",t)},expression:"form.identity_card"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"权 限："}},[s("el-radio",{staticClass:"radio",attrs:{label:0},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}},[e._v("案件中心管理员")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:1},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}},[e._v("治安科工作人员")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:2},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}},[e._v("治安科助管")])],1),e._v(" "),s("el-form-item",{attrs:{label:"用户名称：",prop:"username"}},[s("el-input",{model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"用户密码：",prop:"password"}},[s("el-input",{attrs:{type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"确认密码：",prop:"checkPass"}},[s("el-input",{attrs:{type:"password"},model:{value:e.form.checkPass,callback:function(t){e.$set(e.form,"checkPass",t)},expression:"form.checkPass"}})],1)],1),e._v(" "),s("div",[s("el-button",{attrs:{type:"success"},on:{click:function(t){return e.submitForm("form")}}},[e._v("提交")]),e._v(" "),s("el-button",{attrs:{type:"info"},on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")])],1)],1)},[],!1,null,"174dd768",null).exports,D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},S={components:{caseDialog:b},data:()=>({rules:{baseInfo:{caseTime:[{required:!0,message:"请填写登记时间",trigger:"blur"}],caseType:[{required:!0,message:"请选择报案类型",trigger:"blur"}],period:[{required:!0,message:"请选择案发时间段",trigger:"blur"}],occur_place:[{required:!0,message:"请选择案发地点",trigger:"blur"}]},componentInfo:{name:[{required:!0,message:"姓名不能为空",trigger:"blur"}],age:[{type:"number",max:32767,message:"请填写小于32767的整数",trigger:"blur"}]},lossInfo:{name:[{required:!0,message:"姓名不能为空",trigger:"blur"}],bought_time:[{required:!0,message:"购买时间不能为空",trigger:"blur"}]}},caseInformation:{caseTime:"",caseType:[],caseTypes:[],registrant:"",occur_place:[],occur_places:[],period:[],desc:"",owner:[{name:"本人所有",value:!0},{name:"非本人所有",value:!1}]},reporter:{age:null,grade:null,gender:!0,education:null,home_addr:"",identity_document:null,identity_number:"",name:"",nation:"",phone:"",profession:null,work_place:null},samePerson:"1",show_suffer:!1,sufferer:{age:null,grade:null,gender:!0,education:null,home_addr:"",identity_document:null,identity_number:"",name:"",nation:"",phone:"",profession:null,work_place:null},hasSuspect:"0",show_suspect:!1,suspect:{age:null,grade:null,gender:!0,education:null,home_addr:"",identity_document:null,identity_number:"",name:"",nation:"",phone:"",profession:null,work_place:null},hasWitness:"0",show_witness:!1,witness:{age:null,grade:null,gender:!0,education:null,home_addr:"",identity_document:null,identity_number:"",name:"",nation:"",phone:"",profession:null,work_place:null},has_loss:"0",show_loss:!1,loss:{name:"",is_private:!0,brand:"",version:"",color:"",other_feature:"",sum:1,bought_time:"",price:""},called_police:!1,saw_monitoring:!1,info:{professions:[],identity_types:[{name:"护照",id:0},{name:"学生证",id:1},{name:"身份证",id:2}],educations:[{name:"小学",id:0},{name:"初中",id:1},{name:"高中",id:2},{name:"专科",id:3},{name:"本科",id:4},{name:"硕士",id:5},{name:"博士",id:6}],grades:[],work_places:[{name:"信息与通信工程学院",id:1},{name:"材料与能源学院",id:2},{name:"光电科学与工程学院",id:3},{name:"材料与环境学院",id:4},{name:"信息与软件工程学院",id:5},{name:"数学科学学院",id:6},{name:"医学院",id:7},{name:"经济与管理学院",id:8},{name:"外国语学院",id:9},{name:"格拉斯哥学院",id:10},{name:"基础与前沿研究院",id:11},{name:"英才实验学院",id:12},{name:"电子科学与工程学院",id:13},{name:"机械与电气工程学院",id:14},{name:"自动化工程学院",id:15},{name:"计算机科学与工程学院",id:16},{name:"航空航天学院",id:17},{name:"物理学院",id:18},{name:"生命科学与技术学院",id:19},{name:"公共管理学院",id:20},{name:"马克思主义学院",id:21},{name:"体育部",id:22},{name:"通信抗干扰技术国家级重点实验室",id:23},{name:"学校办公室",id:24},{name:"图书馆",id:25},{name:"校团委(创新创业学院)",id:26},{name:"校医院",id:29},{name:"保卫处",id:30},{name:"教务处",id:31},{name:"财务处",id:32},{name:"其他",id:33}]},print_caseType:"",print_occur_place:""}),methods:D({report(e,t,a){let i=new Promise((t,s)=>{this.$refs[e].validate(e=>{e&&t()})}),l=new Promise((e,s)=>{this.$refs[t].validate(t=>{t&&e()})}),r=new Promise((e,t)=>{this.$refs[a].validate(t=>{t&&e()})});Promise.all([l,i,r]).then(()=>{if(this.show_suffer){if(""===this.sufferer.name)return void this.$message("受害人姓名不能为空！")}else this.sufferer=null;if(this.show_suspect){if(""===this.suspect.name)return void this.$message("嫌疑人姓名不能为空！")}else this.suspect=null;if(this.show_witness){if(""===this.witness.name)return void this.$message("案件证人姓名不能为空！")}else this.witness=null;if(this.show_loss){if(""===this.loss.name)return void this.$message("损失物品名称不能为空！");if(""===this.loss.bought_time||null===this.loss.bought_time)return void this.$message("损失物品购买时间不能为空！");this.loss.bought_time=this.changeTime(this.loss.bought_time)}else this.loss=null;let e="",t="";e=1===this.caseInformation.caseType.length?this.caseInformation.caseType[0]:this.caseInformation.caseType[1],t=1===this.caseInformation.occur_place.length?this.caseInformation.occur_place[0]:this.caseInformation.occur_place[1];s(8);let a=u.a.create({headers:{"Content-Type":"application/json"}}),i={occur_time:this.caseInformation.caseTime,registrant:null,case_type:e,sufferer:this.sufferer,occur_place:t,start_time:this.caseInformation.period[0],end_time:this.caseInformation.period[1],desc:this.caseInformation.desc,suspect:this.suspect,witness:this.witness,property_loss:this.loss,deal_status:0,check_status:0,called_police:this.called_police,saw_monitoring:this.saw_monitoring,reporter:this.reporter};a.post("/api/v1/cases/",i).then(e=>{this.success("案件录入成功！"),this.print(),this.$nextTick(()=>{this.reportClose()})}).catch(e=>{this.fail("案件录入失败！")})})},getNowDate(){let e=(new Date).getFullYear(),t=e-2010,s=[];for(let a=0;a<t;a++)s.push({name:e,id:a}),e--;this.info.grades=s},reportClose(){this.caseInformation.caseTime="",this.caseInformation.caseType=[],this.caseInformation.registrant="",this.caseInformation.occur_place=[],this.caseInformation.period=[],this.caseInformation.desc="",this.reporter={age:null,grade:null,gender:!0,education:null,home_addr:"",identity_document:null,identity_number:"",name:"",nation:"",phone:"",profession:null,work_place:null},this.samePerson="1",this.show_suffer=!1,this.sufferer={age:null,grade:null,gender:!0,education:null,home_addr:"",identity_document:null,identity_number:"",name:"",nation:"",phone:"",profession:null,work_place:null},this.hasSuspect="0",this.show_suspect=!1,this.suspect={age:null,grade:null,gender:!0,education:null,home_addr:"",identity_document:null,identity_number:"",name:"",nation:"",phone:"",profession:null,work_place:null},this.hasWitness="0",this.show_witness=!1,this.witness={age:null,grade:null,gender:!0,education:null,home_addr:"",identity_document:null,identity_number:"",name:"",nation:"",phone:"",profession:null,work_place:null},this.has_loss="0",this.show_loss=!1,this.loss={name:"",is_private:!0,brand:"",version:"",color:"",other_feature:"",sum:1,bought_time:"",price:""},this.called_police=!1,this.saw_monitoring=!1,this.print_caseType="",this.print_occur_place=""},print(){this.caseInformation.caseTime=this.changeTime_print(this.caseInformation.caseTime);let e=[];return e.push(this.changeTime_print(this.caseInformation.period[0])),e.push(this.changeTime_print(this.caseInformation.period[1])),this.caseInformation.period=e,this.print_caseType=1===this.caseInformation.caseType.length?this.caseInformation.caseType[0]:this.caseInformation.caseType[1],this.print_occur_place=1===this.caseInformation.occur_place.length?this.caseInformation.occur_place[0]:this.caseInformation.occur_place[1],this.handleEducation(this.reporter),this.sufferer&&this.handleEducation(this.sufferer),this.suspect&&this.handleEducation(this.suspect),this.witness&&this.handleEducation(this.witness),this.handleIdentityDocument(this.reporter),this.sufferer&&this.handleIdentityDocument(this.sufferer),this.suspect&&this.handleIdentityDocument(this.suspect),this.witness&&this.handleIdentityDocument(this.witness),this.$nextTick(()=>{document.getElementsByClassName("print")[0].style.display="block",document.getElementsByClassName("left")[0].style.display="none",document.getElementsByClassName("down")[0].style.display="none",window.print(),document.getElementsByClassName("left")[0].style.display="block",document.getElementsByClassName("down")[0].style.display="block",document.getElementsByClassName("print")[0].style.display="none"}),!1},changeTime(e){if(e.getFullYear){let t=e.getFullYear(),s=e.getMonth()+1,a=e.getDate();return t+"-"+this.formTime(s)+"-"+this.formTime(a)}},formTime:e=>e>9?e:"0"+e,getList(e){let t=e.data.length,s=[],a=[];for(let i=0;i<t;i++)e.data[i].is_parent?s.push({id:e.data[i].id,label:e.data[i].name,value:e.data[i].name,children:[]}):a.push({id:e.data[i].id,label:e.data[i].name,value:e.data[i].name,parent:e.data[i].parent});let i=s.length,l=a.length;for(let e=0;e<l;e++)for(let t=0;t<i;t++)s[t].id===a[e].parent&&s[t].children.push(a[e]);return s},caseType(){u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}});u.a.get("/api/v1/casetype/").then(e=>{let t=this.getList(e),s=[],a=t.length;for(let e=0;e<a;e++){let a=t[e].children.length;if(0===a)s.push({label:t[e].label,value:t[e].value});else{s.push({label:t[e].label,value:t[e].value,children:[]});for(let i=0;i<a;i++)s[e].children.push({label:t[e].children[i].value,value:t[e].children[i].label})}}this.caseInformation.caseTypes=s,this.setLabelType(e.data)}).catch(e=>{this.fail("获取案件类型失败！")})},casePosition(){u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}});u.a.get("/api/v1/address/").then(e=>{let t=this.getList(e),s=[],a=t.length;for(let e=0;e<a;e++){let a=t[e].children.length;if(0===a)s.push({label:t[e].label,value:t[e].value});else{s.push({label:t[e].label,value:t[e].value,children:[]});for(let i=0;i<a;i++)s[e].children.push({label:t[e].children[i].value,value:t[e].children[i].label})}}this.caseInformation.occur_places=s}).catch(e=>{this.fail("获取案发地点失败！")})},profession(){u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}}).get("/api/v1/profession/").then(e=>{let t=e.data.length,s=[],a=[];for(let i=0;i<t;i++)e.data[i].in_school?s.push({id:e.data[i].id,name:e.data[i].name}):a.push({id:e.data[i].id,name:e.data[i].name});this.info.professions=s}).catch(e=>{this.fail("获取职业或身份失败！")})},success(e){this.$message({message:e,type:"success"})},fail(e){this.$message({message:e,type:"error"})},changeTime_print(e){if(""===e||null===e)return"";if(e.getFullYear){let t=e.getFullYear(),s=e.getMonth()+1,a=e.getDate(),i=e.getHours(),l=e.getMinutes(),r=e.getSeconds();return t+"-"+this.formTime(s)+"-"+this.formTime(a)+" "+this.formTime(i)+":"+this.formTime(l)+":"+this.formTime(r)}return e},handleEducation(e){switch(e.education){case 0:e.education="小学";break;case 1:e.education="初中";break;case 2:e.education="高中";break;case 3:e.education="专科";break;case 4:e.education="本科";break;case 5:e.education="硕士";break;case 6:e.education="博士"}},handleIdentityDocument(e){switch(e.identity_document){case 0:e.identity_document="护照";break;case 1:e.identity_document="学生证";break;case 2:e.identity_document="身份证"}}},Object(a.b)(["setLabelPosition","setLabelType"])),computed:D({},Object(a.c)({token:e=>e.token,labelType:e=>e.labelType,labelPosition:e=>e.labelPosition})),mounted(){u.a.defaults.headers.common.Authorization="JWT "+this.token,this.caseType(),this.casePosition(),this.profession(),this.getNowDate()},watch:{samePerson:function(){this.show_suffer="1"!==this.samePerson},hasSuspect:function(){this.show_suspect="0"!==this.hasSuspect},hasWitness:function(){this.show_witness="0"!==this.hasWitness},has_loss:function(){this.show_loss="0"!==this.has_loss}}},x=(s(145),Object(r.a)(S,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"print"},[s("div",{staticStyle:{"text-align":"left"}},[e._v("\n            报案类型\n            "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"40%"},attrs:{label:"登记时间:"}},[e._v(e._s(e.caseInformation.caseTime))]),e._v(" "),s("el-form-item",{staticStyle:{width:"40%"},attrs:{label:"报案类型:"}},[e._v(e._s(e.print_caseType))])],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[e._v("\n            报案人信息\n            "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"姓名:"}},[e._v(e._s(e.reporter.name))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"性别:"}},[e._v(e._s(e.reporter.gender?"男":"女"))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"年龄:"}},[e._v(e._s(e.reporter.age))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"民族:"}},[e._v(e._s(e.reporter.nation))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"职业或身份:"}},[e._v(e._s(e.reporter.profession))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"证件类型:"}},[e._v(e._s(e.reporter.identity_document))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"证件号:"}},[e._v(e._s(e.reporter.identity_number))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"文化程度:"}},[e._v(e._s(e.reporter.education))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"年级:"}},[e._v(e._s(e.reporter.grade))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"学院或单位:"}},[e._v(e._s(e.reporter.work_place))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"联系方式:"}},[e._v(e._s(e.reporter.phone))]),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"住址:"}},[e._v(e._s(e.reporter.home_addr))])],1)],1),e._v(" "),e.show_suffer?e._e():s("div",{staticStyle:{"text-align":"left","margin-bottom":"25px"}},[e._v("报案人与受害者为同一人")]),e._v(" "),e.show_suffer?s("div",{staticStyle:{"text-align":"left"}},[e._v("\n            受害人信息\n            "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"姓名:"}},[e._v(e._s(e.sufferer.name))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"性别:"}},[e._v(e._s(e.sufferer.gender?"男":"女"))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"年龄:"}},[e._v(e._s(e.sufferer.age))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"民族:"}},[e._v(e._s(e.sufferer.nation))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"职业或身份:"}},[e._v(e._s(e.sufferer.profession))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"证件类型:"}},[e._v(e._s(e.sufferer.identity_document))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"证件号:"}},[e._v(e._s(e.sufferer.identity_number))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"文化程度:"}},[e._v(e._s(e.sufferer.education))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"年级:"}},[e._v(e._s(e.sufferer.grade))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"学院或单位:"}},[e._v(e._s(e.sufferer.work_place))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"联系方式:"}},[e._v(e._s(e.sufferer.phone))]),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"住址:"}},[e._v(e._s(e.sufferer.home_addr))])],1)],1):e._e(),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[e._v("\n            案发情况\n            "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"案发地点:"}},[e._v(e._s(e.print_occur_place))]),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"案发时间段:"}},[e._v("\n                    "+e._s(e.caseInformation.period[0])+"—"+e._s(e.caseInformation.period[1])+"\n                ")]),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"案情:"}},[e._v(e._s(e.caseInformation.desc))])],1)],1),e._v(" "),e.show_suspect?s("div",{staticStyle:{"text-align":"left"}},[e._v("嫌疑人信息\n            "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"姓名:"}},[e._v(e._s(e.suspect.name))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"性别:"}},[e._v(e._s(e.suspect.gender?"男":"女"))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"年龄:"}},[e._v(e._s(e.suspect.age))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"民族:"}},[e._v(e._s(e.suspect.nation))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"职业或身份:"}},[e._v(e._s(e.suspect.profession))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"证件类型:"}},[e._v(e._s(e.suspect.identity_document))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"证件号:"}},[e._v(e._s(e.suspect.identity_number))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"文化程度:"}},[e._v(e._s(e.suspect.education))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"年级:"}},[e._v(e._s(e.suspect.grade))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"学院或单位:"}},[e._v(e._s(e.suspect.work_place))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"联系方式:"}},[e._v(e._s(e.suspect.phone))]),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"住址:"}},[e._v(e._s(e.suspect.home_addr))])],1)],1):e._e(),e._v(" "),e.show_witness?s("div",{staticStyle:{"text-align":"left"}},[e._v("\n            案件证人信息\n            "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"姓名:"}},[e._v(e._s(e.witness.name))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"性别:"}},[e._v(e._s(e.witness.gender?"男":"女"))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"年龄:"}},[e._v(e._s(e.witness.age))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"民族:"}},[e._v(e._s(e.witness.nation))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"职业或身份:"}},[e._v(e._s(e.witness.profession))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"证件类型:"}},[e._v(e._s(e.witness.identity_document))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"证件号:"}},[e._v(e._s(e.witness.identity_number))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"文化程度:"}},[e._v(e._s(e.witness.education))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"年级:"}},[e._v(e._s(e.witness.grade))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"学院或单位:"}},[e._v(e._s(e.witness.work_place))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"联系方式:"}},[e._v(e._s(e.witness.phone))]),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"住址:"}},[e._v(e._s(e.witness.home_addr))])],1)],1):e._e(),e._v(" "),e.show_loss?s("div",{staticStyle:{"text-align":"left"}},[e._v("\n            损失财物信息\n            "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"物品名称:"}},[e._v(e._s(e.loss.name))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"所有权性质:"}},[e._v("\n                    "+e._s(!0===e.loss.is_private?"本人所有":"非本人所有")+"\n                ")]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"品牌:"}},[e._v(e._s(e.loss.brand))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"型号:"}},[e._v(e._s(e.loss.version))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"颜色:"}},[e._v(e._s(e.loss.color))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"其他特征:"}},[e._v(e._s(e.loss.other_feature)+"\n                ")]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"数量:"}},[e._v(e._s(e.loss.sum))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"购置价格:"}},[e._v(e._s(e.loss.price))]),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"购买时间:"}},[e._v(e._s(e.loss.bought_time))])],1)],1):e._e(),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"是否查看监控:"}},[e._v(e._s(e.saw_monitoring?"是":"否"))]),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"是否通知公安机关等部门:"}},[e._v(e._s(e.called_police?"是":"否"))])],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"left","margin-top":"20px"}},[e._v("报案人签名：")])]),e._v(" "),s("div",{staticClass:"down"},[s("div",{staticStyle:{"text-align":"left","margin-top":"20px"}},[s("span",[e._v("报案类型")]),e._v(" "),s("hr"),e._v(" "),s("el-form",{ref:"case_1",attrs:{model:e.caseInformation,rules:e.rules.baseInfo,inline:!0}},[s("el-form-item",{attrs:{label:"登记时间",prop:"caseTime"}},[s("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.caseInformation.caseTime,callback:function(t){e.$set(e.caseInformation,"caseTime",t)},expression:"caseInformation.caseTime"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"报案类型",prop:"caseType"}},[s("el-cascader",{attrs:{"expand-trigger":"hover",options:e.caseInformation.caseTypes,placeholder:"请选择报案类型"},model:{value:e.caseInformation.caseType,callback:function(t){e.$set(e.caseInformation,"caseType",t)},expression:"caseInformation.caseType"}})],1)],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"left","margin-top":"20px"}},[s("span",[e._v("报案人信息")]),e._v(" "),s("hr"),e._v(" "),s("el-form",{ref:"case_3",attrs:{model:e.reporter,inline:!0,rules:e.rules.componentInfo}},[s("el-form-item",{attrs:{label:"姓名",prop:"name"}},[s("el-input",{model:{value:e.reporter.name,callback:function(t){e.$set(e.reporter,"name",t)},expression:"reporter.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"性别"}},[s("el-radio",{staticClass:"radio",attrs:{label:!0},model:{value:e.reporter.gender,callback:function(t){e.$set(e.reporter,"gender",t)},expression:"reporter.gender"}},[e._v("男")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:!1},model:{value:e.reporter.gender,callback:function(t){e.$set(e.reporter,"gender",t)},expression:"reporter.gender"}},[e._v("女")])],1),e._v(" "),s("el-form-item",{attrs:{label:"年龄",prop:"age"}},[s("el-input",{model:{value:e.reporter.age,callback:function(t){e.$set(e.reporter,"age",e._n(t))},expression:"reporter.age"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"民族(国籍)"}},[s("el-input",{model:{value:e.reporter.nation,callback:function(t){e.$set(e.reporter,"nation",t)},expression:"reporter.nation"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"职业或身份"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.reporter.profession,callback:function(t){e.$set(e.reporter,"profession",t)},expression:"reporter.profession"}},e._l(e.info.professions,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"证件类型"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.reporter.identity_document,callback:function(t){e.$set(e.reporter,"identity_document",t)},expression:"reporter.identity_document"}},e._l(e.info.identity_types,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"证件号"}},[s("el-input",{model:{value:e.reporter.identity_number,callback:function(t){e.$set(e.reporter,"identity_number",t)},expression:"reporter.identity_number"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"文化程度"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.reporter.education,callback:function(t){e.$set(e.reporter,"education",t)},expression:"reporter.education"}},e._l(e.info.educations,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"年级"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.reporter.grade,callback:function(t){e.$set(e.reporter,"grade",t)},expression:"reporter.grade"}},e._l(e.info.grades,function(e){return s("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"学院或单位"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.reporter.work_place,callback:function(t){e.$set(e.reporter,"work_place",t)},expression:"reporter.work_place"}},e._l(e.info.work_places,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"住址"}},[s("el-input",{model:{value:e.reporter.home_addr,callback:function(t){e.$set(e.reporter,"home_addr",t)},expression:"reporter.home_addr"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"联系方式"}},[s("el-input",{model:{value:e.reporter.phone,callback:function(t){e.$set(e.reporter,"phone",t)},expression:"reporter.phone"}})],1)],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"left","margin-top":"20px"}},[s("span",{staticStyle:{"margin-right":"20px"}},[e._v("报案人是否与受害人为同一人:")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:e.samePerson,callback:function(t){e.samePerson=t},expression:"samePerson"}},[e._v("是")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:"0"},model:{value:e.samePerson,callback:function(t){e.samePerson=t},expression:"samePerson"}},[e._v("否")]),e._v(" "),e.show_suffer?s("div",{staticStyle:{"margin-top":"20px"}},[s("span",[e._v("受害人信息")]),e._v(" "),s("hr"),e._v(" "),s("el-form",{ref:"case_suffer",attrs:{model:e.sufferer,inline:!0,rules:e.rules.componentInfo}},[s("el-form-item",{attrs:{label:"姓名",prop:"name"}},[s("el-input",{model:{value:e.sufferer.name,callback:function(t){e.$set(e.sufferer,"name",t)},expression:"sufferer.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"性别"}},[s("el-radio",{staticClass:"radio",attrs:{label:!0},model:{value:e.sufferer.gender,callback:function(t){e.$set(e.sufferer,"gender",t)},expression:"sufferer.gender"}},[e._v("男")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:!1},model:{value:e.sufferer.gender,callback:function(t){e.$set(e.sufferer,"gender",t)},expression:"sufferer.gender"}},[e._v("女")])],1),e._v(" "),s("el-form-item",{attrs:{label:"年龄",prop:"age"}},[s("el-input",{model:{value:e.sufferer.age,callback:function(t){e.$set(e.sufferer,"age",e._n(t))},expression:"sufferer.age"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"民族(国籍)"}},[s("el-input",{model:{value:e.sufferer.nation,callback:function(t){e.$set(e.sufferer,"nation",t)},expression:"sufferer.nation"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"职业或身份"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.sufferer.profession,callback:function(t){e.$set(e.sufferer,"profession",t)},expression:"sufferer.profession"}},e._l(e.info.professions,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"证件类型"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.sufferer.identity_document,callback:function(t){e.$set(e.sufferer,"identity_document",t)},expression:"sufferer.identity_document"}},e._l(e.info.identity_types,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"证件号"}},[s("el-input",{model:{value:e.sufferer.identity_number,callback:function(t){e.$set(e.sufferer,"identity_number",t)},expression:"sufferer.identity_number"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"文化程度"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.sufferer.education,callback:function(t){e.$set(e.sufferer,"education",t)},expression:"sufferer.education"}},e._l(e.info.educations,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"年级"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.sufferer.grade,callback:function(t){e.$set(e.sufferer,"grade",t)},expression:"sufferer.grade"}},e._l(e.info.grades,function(e){return s("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"学院或单位"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.sufferer.work_place,callback:function(t){e.$set(e.sufferer,"work_place",t)},expression:"sufferer.work_place"}},e._l(e.info.work_places,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"住址"}},[s("el-input",{model:{value:e.sufferer.home_addr,callback:function(t){e.$set(e.sufferer,"home_addr",t)},expression:"sufferer.home_addr"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"联系方式"}},[s("el-input",{model:{value:e.sufferer.phone,callback:function(t){e.$set(e.sufferer,"phone",t)},expression:"sufferer.phone"}})],1)],1)],1):e._e()],1),e._v(" "),s("div",{staticStyle:{"margin-top":"20px","text-align":"left"}},[e._v("\n            案发情况\n            "),s("hr"),e._v(" "),s("el-form",{ref:"case_2",attrs:{model:e.caseInformation,rules:e.rules.baseInfo,inline:!0}},[s("el-form-item",{attrs:{label:"案发时间段",prop:"period"}},[s("el-date-picker",{attrs:{type:"datetimerange",placeholder:"选择时间范围"},model:{value:e.caseInformation.period,callback:function(t){e.$set(e.caseInformation,"period",t)},expression:"caseInformation.period"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"案发地点",prop:"occur_place"}},[s("el-cascader",{attrs:{"expand-trigger":"hover",options:e.caseInformation.occur_places,placeholder:"请选择报案类型"},model:{value:e.caseInformation.occur_place,callback:function(t){e.$set(e.caseInformation,"occur_place",t)},expression:"caseInformation.occur_place"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"案情"}},[s("el-input",{staticStyle:{width:"1000px"},attrs:{type:"textarea",rows:5,placeholder:"请输入内容"},model:{value:e.caseInformation.desc,callback:function(t){e.$set(e.caseInformation,"desc",t)},expression:"caseInformation.desc"}})],1)],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"left","margin-top":"20px"}},[s("span",[e._v("嫌疑人信息")]),e._v(" "),s("hr"),e._v(" "),s("span",{staticStyle:{"margin-right":"20px"}},[e._v("是否有嫌疑人:")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:e.hasSuspect,callback:function(t){e.hasSuspect=t},expression:"hasSuspect"}},[e._v("是")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:"0"},model:{value:e.hasSuspect,callback:function(t){e.hasSuspect=t},expression:"hasSuspect"}},[e._v("否")]),e._v(" "),e.show_suspect?s("div",{staticStyle:{"margin-top":"20px"}},[s("el-form",{ref:"case_suspect",attrs:{model:e.suspect,inline:!0,rules:e.rules.componentInfo}},[s("el-form-item",{attrs:{label:"姓名",prop:"name"}},[s("el-input",{model:{value:e.suspect.name,callback:function(t){e.$set(e.suspect,"name",t)},expression:"suspect.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"性别"}},[s("el-radio",{staticClass:"radio",attrs:{label:!0},model:{value:e.suspect.gender,callback:function(t){e.$set(e.suspect,"gender",t)},expression:"suspect.gender"}},[e._v("男")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:!1},model:{value:e.suspect.gender,callback:function(t){e.$set(e.suspect,"gender",t)},expression:"suspect.gender"}},[e._v("女")])],1),e._v(" "),s("el-form-item",{attrs:{label:"年龄",prop:"age"}},[s("el-input",{model:{value:e.suspect.age,callback:function(t){e.$set(e.suspect,"age",e._n(t))},expression:"suspect.age"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"民族(国籍)"}},[s("el-input",{model:{value:e.suspect.nation,callback:function(t){e.$set(e.suspect,"nation",t)},expression:"suspect.nation"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"职业或身份"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.suspect.profession,callback:function(t){e.$set(e.suspect,"profession",t)},expression:"suspect.profession"}},e._l(e.info.professions,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"证件类型"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.suspect.identity_document,callback:function(t){e.$set(e.suspect,"identity_document",t)},expression:"suspect.identity_document"}},e._l(e.info.identity_types,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"证件号"}},[s("el-input",{model:{value:e.suspect.identity_number,callback:function(t){e.$set(e.suspect,"identity_number",t)},expression:"suspect.identity_number"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"文化程度"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.suspect.education,callback:function(t){e.$set(e.suspect,"education",t)},expression:"suspect.education"}},e._l(e.info.educations,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"年级"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.suspect.grade,callback:function(t){e.$set(e.suspect,"grade",t)},expression:"suspect.grade"}},e._l(e.info.grades,function(e){return s("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"学院或单位"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.suspect.work_place,callback:function(t){e.$set(e.suspect,"work_place",t)},expression:"suspect.work_place"}},e._l(e.info.work_places,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"住址"}},[s("el-input",{model:{value:e.suspect.home_addr,callback:function(t){e.$set(e.suspect,"home_addr",t)},expression:"suspect.home_addr"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"联系方式"}},[s("el-input",{model:{value:e.suspect.phone,callback:function(t){e.$set(e.suspect,"phone",t)},expression:"suspect.phone"}})],1)],1)],1):e._e()],1),e._v(" "),s("div",{staticStyle:{"text-align":"left","margin-top":"20px"}},[s("span",[e._v("案件证人信息")]),e._v(" "),s("hr"),e._v(" "),s("span",{staticStyle:{"margin-right":"20px"}},[e._v("是否有案件证人:")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:e.hasWitness,callback:function(t){e.hasWitness=t},expression:"hasWitness"}},[e._v("是")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:"0"},model:{value:e.hasWitness,callback:function(t){e.hasWitness=t},expression:"hasWitness"}},[e._v("否")]),e._v(" "),e.show_witness?s("div",{staticStyle:{"margin-top":"20px"}},[s("el-form",{ref:"case_suspect",attrs:{model:e.witness,inline:!0,rules:e.rules.componentInfo}},[s("el-form-item",{attrs:{label:"姓名",prop:"name"}},[s("el-input",{model:{value:e.witness.name,callback:function(t){e.$set(e.witness,"name",t)},expression:"witness.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"性别"}},[s("el-radio",{staticClass:"radio",attrs:{label:!0},model:{value:e.witness.gender,callback:function(t){e.$set(e.witness,"gender",t)},expression:"witness.gender"}},[e._v("男")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:!1},model:{value:e.witness.gender,callback:function(t){e.$set(e.witness,"gender",t)},expression:"witness.gender"}},[e._v("女")])],1),e._v(" "),s("el-form-item",{attrs:{label:"年龄",prop:"age"}},[s("el-input",{model:{value:e.witness.age,callback:function(t){e.$set(e.witness,"age",e._n(t))},expression:"witness.age"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"民族(国籍)"}},[s("el-input",{model:{value:e.witness.nation,callback:function(t){e.$set(e.witness,"nation",t)},expression:"witness.nation"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"职业或身份"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.witness.profession,callback:function(t){e.$set(e.witness,"profession",t)},expression:"witness.profession"}},e._l(e.info.professions,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"证件类型"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.witness.identity_document,callback:function(t){e.$set(e.witness,"identity_document",t)},expression:"witness.identity_document"}},e._l(e.info.identity_types,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"证件号"}},[s("el-input",{model:{value:e.witness.identity_number,callback:function(t){e.$set(e.witness,"identity_number",t)},expression:"witness.identity_number"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"文化程度"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.witness.education,callback:function(t){e.$set(e.witness,"education",t)},expression:"witness.education"}},e._l(e.info.educations,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"年级"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.witness.grade,callback:function(t){e.$set(e.witness,"grade",t)},expression:"witness.grade"}},e._l(e.info.grades,function(e){return s("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"学院或单位"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.witness.work_place,callback:function(t){e.$set(e.witness,"work_place",t)},expression:"witness.work_place"}},e._l(e.info.work_places,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"住址"}},[s("el-input",{model:{value:e.witness.home_addr,callback:function(t){e.$set(e.witness,"home_addr",t)},expression:"witness.home_addr"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"联系方式"}},[s("el-input",{model:{value:e.witness.phone,callback:function(t){e.$set(e.witness,"phone",t)},expression:"witness.phone"}})],1)],1)],1):e._e()],1),e._v(" "),s("div",{staticStyle:{"text-align":"left","margin-top":"20px"}},[s("span",[e._v("损失财物情况")]),e._v(" "),s("hr"),e._v(" "),s("span",{staticStyle:{"margin-right":"20px"}},[e._v("是否有损失财物:")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:e.has_loss,callback:function(t){e.has_loss=t},expression:"has_loss"}},[e._v("是")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:"0"},model:{value:e.has_loss,callback:function(t){e.has_loss=t},expression:"has_loss"}},[e._v("否")]),e._v(" "),e.show_loss?s("div",{staticStyle:{"margin-top":"20px"}},[s("el-form",{attrs:{model:e.loss,rules:e.rules.lossInfo,inline:!0}},[s("el-form-item",{attrs:{label:"损失物品名称",prop:"name"}},[s("el-input",{model:{value:e.loss.name,callback:function(t){e.$set(e.loss,"name",t)},expression:"loss.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"所有权性质"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.loss.is_private,callback:function(t){e.$set(e.loss,"is_private",t)},expression:"loss.is_private"}},e._l(e.caseInformation.owner,function(e){return s("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"品牌"}},[s("el-input",{model:{value:e.loss.brand,callback:function(t){e.$set(e.loss,"brand",t)},expression:"loss.brand"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"型号"}},[s("el-input",{model:{value:e.loss.version,callback:function(t){e.$set(e.loss,"version",t)},expression:"loss.version"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"颜色"}},[s("el-input",{model:{value:e.loss.color,callback:function(t){e.$set(e.loss,"color",t)},expression:"loss.color"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"其他特征"}},[s("el-input",{model:{value:e.loss.other_feature,callback:function(t){e.$set(e.loss,"other_feature",t)},expression:"loss.other_feature"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"数量"}},[s("el-input",{model:{value:e.loss.sum,callback:function(t){e.$set(e.loss,"sum",e._n(t))},expression:"loss.sum"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"购买时间",prop:"bought_time"}},[s("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.loss.bought_time,callback:function(t){e.$set(e.loss,"bought_time",t)},expression:"loss.bought_time"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"购置价格"}},[s("el-input",{model:{value:e.loss.price,callback:function(t){e.$set(e.loss,"price",t)},expression:"loss.price"}})],1)],1)],1):e._e()],1),e._v(" "),s("div",{staticStyle:{"text-align":"left","margin-top":"20px"}},[s("hr"),e._v(" "),s("span",[e._v("报案人是否通知公安机关等部门:")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:!0},model:{value:e.called_police,callback:function(t){e.called_police=t},expression:"called_police"}},[e._v("是")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:!1},model:{value:e.called_police,callback:function(t){e.called_police=t},expression:"called_police"}},[e._v("否")])],1),e._v(" "),s("div",{staticStyle:{"text-align":"left","margin-top":"20px"}},[s("span",{staticStyle:{"margin-right":"20px"}},[e._v("报案人是否查看监控:")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:!0},model:{value:e.saw_monitoring,callback:function(t){e.saw_monitoring=t},expression:"saw_monitoring"}},[e._v("是")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:!1},model:{value:e.saw_monitoring,callback:function(t){e.saw_monitoring=t},expression:"saw_monitoring"}},[e._v("否")])],1),e._v(" "),s("div",{staticStyle:{"text-align":"left","margin-top":"20px"}},[s("el-button",{attrs:{type:"success"},on:{click:function(t){return e.report("case_1","case_2","case_3")}}},[e._v("报 案")])],1)])])},[],!1,null,"5c9e94ac",null).exports),C={data:()=>({rules:{baseInfo:{caseTime:[{required:!0,message:"请选择日期时间",trigger:"blur"}],caseType:[{required:!0,message:"请选择报案类型",trigger:"blur"}],occur_place:[{required:!0,message:"案发地点不能为空",trigger:"blur"}],period:[{required:!0,message:"案发时间段不能为空",trigger:"blur"}]},componentInfo:{name:[{required:!0,message:"姓名不能为空",trigger:"blur"}],age:[{type:"number",max:32767,message:"请填写小于32767整数",trigger:"blur"}]}},caseInformation:{caseTime:"",caseType:[],registrant:"",occur_place:[],period:"",desc:"",caseTypes:[],occur_places:[]},reporter:{age:null,grade:null,gender:Boolean,education:null,home_addr:"",identity_document:null,identity_number:"",name:"",nation:"",phone:"",profession:null,work_place:null},samePerson:"1",show_suffer:!1,sufferer:{age:null,grade:null,gender:Boolean,education:null,home_addr:"",identity_document:null,identity_number:"",name:"",nation:"",phone:"",profession:null,work_place:null},called_police:!1,saw_monitoring:!1,info:{professions:[],identity_types:[{name:"护照",id:0},{name:"学生证",id:1},{name:"身份证",id:2}],educations:[{name:"小学",id:0},{name:"初中",id:1},{name:"高中",id:2},{name:"专科",id:3},{name:"本科",id:4},{name:"硕士",id:5},{name:"博士",id:6}]},print_caseType:"",print_occur_place:""}),methods:{report(e,t,a){let i=new Promise((t,s)=>{this.$refs[e].validate(e=>{e&&t()})}),l=new Promise((e,s)=>{this.$refs[t].validate(t=>{t&&e()})}),r=new Promise((e,t)=>{this.$refs[a].validate(t=>{t&&e()})});Promise.all([l,i,r]).then(()=>{if(this.show_suffer){if(""===this.sufferer.name)return void this.$message("受害人姓名不能为空！")}else this.sufferer=null;let e="",t="";e=1===this.caseInformation.caseType.length?this.caseInformation.caseType[0]:this.caseInformation.caseType[1],t=1===this.caseInformation.occur_place.length?this.caseInformation.occur_place[0]:this.caseInformation.occur_place[1];s(8),u.a.create({headers:{"Content-Type":"application/json"}});let a={occur_time:this.caseInformation.caseTime,registrant:null,case_type:e,reporter:this.reporter,sufferer:this.sufferer,occur_place:t,start_time:this.caseInformation.period[0],end_time:this.caseInformation.period[0],desc:this.caseInformation.desc,deal_status:0,check_status:0,called_police:this.called_police,saw_monitoring:this.saw_monitoring};u.a.post("/api/v1/cases/",a).then(e=>{this.success("案件录入成功！"),this.print(),this.$nextTick(()=>{this.reportClose()})}).catch(e=>{this.fail(e)})})},reportClose(){this.caseInformation.caseTime="",this.caseInformation.caseType=[],this.caseInformation.registrant="",this.caseInformation.occur_place=[],this.caseInformation.period="",this.caseInformation.desc="",this.reporter={age:null,grade:null,gender:Boolean,education:null,home_addr:"",identity_document:null,identity_number:"",name:"",nation:"",phone:"",profession:null,work_place:null},this.samePerson="1",this.show_suffer=!1,this.sufferer={age:null,grade:null,gender:Boolean,education:null,home_addr:"",identity_document:null,identity_number:"",name:"",nation:"",phone:"",profession:null,work_place:null},this.called_police=!1,this.saw_monitoring=!1,this.print_caseType="",this.print_occur_place=""},getList(e){let t=e.data.length,s=[],a=[];for(let i=0;i<t;i++)e.data[i].is_parent?s.push({id:e.data[i].id,label:e.data[i].name,value:e.data[i].name,children:[]}):a.push({id:e.data[i].id,label:e.data[i].name,value:e.data[i].name,parent:e.data[i].parent});let i=s.length,l=a.length;for(let e=0;e<l;e++)for(let t=0;t<i;t++)s[t].id===a[e].parent&&s[t].children.push(a[e]);return s},caseType(){u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}});u.a.get("/api/v1/casetype/").then(e=>{let t=this.getList(e),s=[],a=t.length;for(let e=0;e<a;e++){let a=t[e].children.length;if(0===a)s.push({label:t[e].label,value:t[e].value});else{s.push({label:t[e].label,value:t[e].value,children:[]});for(let i=0;i<a;i++)s[e].children.push({label:t[e].children[i].value,value:t[e].children[i].label})}}this.caseInformation.caseTypes=s}).catch(e=>{this.fail("获取案件类型失败！")})},casePosition(){u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}});u.a.get("/api/v1/address/").then(e=>{let t=this.getList(e),s=[],a=t.length;for(let e=0;e<a;e++){let a=t[e].children.length;if(0===a)s.push({label:t[e].label,value:t[e].value});else{s.push({label:t[e].label,value:t[e].value,children:[]});for(let i=0;i<a;i++)s[e].children.push({label:t[e].children[i].value,value:t[e].children[i].label})}}this.caseInformation.occur_places=s}).catch(e=>{this.fail("获取案发地点失败！")})},profession(){u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}}).get("/api/v1/profession/").then(e=>{let t=e.data.length,s=[],a=[];for(let i=0;i<t;i++)e.data[i].in_school?s.push({id:e.data[i].id,name:e.data[i].name}):a.push({id:e.data[i].id,name:e.data[i].name});this.info.professions=a}).catch(e=>{this.fail("获取职业或身份失败！")})},print(){this.caseInformation.caseTime=this.changeTime_print(this.caseInformation.caseTime);let e=[];return e.push(this.changeTime_print(this.caseInformation.period[0])),e.push(this.changeTime_print(this.caseInformation.period[1])),this.caseInformation.period=e,this.print_caseType=1===this.caseInformation.caseType.length?this.caseInformation.caseType[0]:this.caseInformation.caseType[1],this.print_occur_place=1===this.caseInformation.occur_place.length?this.caseInformation.occur_place[0]:this.caseInformation.occur_place[1],this.handleEducation(this.reporter),this.sufferer&&this.handleEducation(this.sufferer),this.suspect&&this.handleEducation(this.suspect),this.handleIdentityDocument(this.reporter),this.sufferer&&this.handleIdentityDocument(this.sufferer),this.suspect&&this.handleIdentityDocument(this.suspect),this.$nextTick(()=>{document.getElementsByClassName("print_1")[0].style.display="block",document.getElementsByClassName("left")[0].style.display="none",document.getElementsByClassName("down_1")[0].style.display="none",window.print(),document.getElementsByClassName("left")[0].style.display="block",document.getElementsByClassName("down_1")[0].style.display="block",document.getElementsByClassName("print_1")[0].style.display="none"}),!1},formTime:e=>e>9?e:"0"+e,changeTime_print(e){if(""===e||null===e)return"";if(e.getFullYear){let t=e.getFullYear(),s=e.getMonth()+1,a=e.getDate(),i=e.getHours(),l=e.getMinutes(),r=e.getSeconds();return t+"-"+this.formTime(s)+"-"+this.formTime(a)+" "+this.formTime(i)+":"+this.formTime(l)+":"+this.formTime(r)}return e},handleEducation(e){switch(e.education){case 0:e.education="小学";break;case 1:e.education="初中";break;case 2:e.education="高中";break;case 3:e.education="专科";break;case 4:e.education="本科";break;case 5:e.education="硕士";break;case 6:e.education="博士"}},handleIdentityDocument(e){switch(e.identity_document){case 0:e.identity_document="护照";break;case 1:e.identity_document="学生证";break;case 2:e.identity_document="身份证"}},success(e){this.$message({message:e,type:"success"})},fail(e){this.$message({message:e,type:"error"})}},computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e})({},Object(a.c)({token:e=>e.token})),mounted(){u.a.defaults.headers.common.Authorization="JWT "+this.token,this.caseType(),this.casePosition(),this.profession()},watch:{samePerson:function(){this.show_suffer="1"!==this.samePerson}}},T=(s(146),{components:{inCampusCaseRegister:x,outCampusCaseRegister:Object(r.a)(C,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"print_1"},[s("div",{staticStyle:{"text-align":"left"}},[e._v("\n            报案类型\n            "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"40%"},attrs:{label:"登记时间:"}},[e._v(e._s(e.caseInformation.caseTime))]),e._v(" "),s("el-form-item",{staticStyle:{width:"40%"},attrs:{label:"报案类型:"}},[e._v(e._s(e.print_caseType))])],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[e._v("\n            报案人信息\n            "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"姓名:"}},[e._v(e._s(e.reporter.name))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"性别:"}},[e._v(e._s(e.reporter.gender?"男":"女"))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"年龄:"}},[e._v(e._s(e.reporter.age))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"民族:"}},[e._v(e._s(e.reporter.nation))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"职业或身份:"}},[e._v(e._s(e.reporter.profession))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"证件类型:"}},[e._v(e._s(e.reporter.identity_document))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"证件号:"}},[e._v(e._s(e.reporter.identity_number))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"文化程度:"}},[e._v(e._s(e.reporter.education))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"年级:"}},[e._v(e._s(e.reporter.grade))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"学院或单位:"}},[e._v(e._s(e.reporter.work_place))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"联系方式:"}},[e._v(e._s(e.reporter.phone))]),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"住址:"}},[e._v(e._s(e.reporter.home_addr))])],1)],1),e._v(" "),e.show_suffer?e._e():s("div",{staticStyle:{"text-align":"left","margin-bottom":"25px"}},[e._v("报案人与受害者为同一人")]),e._v(" "),e.show_suffer?s("div",{staticStyle:{"text-align":"left"}},[e._v("\n            受害人信息\n            "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"姓名:"}},[e._v(e._s(e.sufferer.name))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"性别:"}},[e._v(e._s(e.sufferer.gender?"男":"女"))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"年龄:"}},[e._v(e._s(e.sufferer.age))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"民族:"}},[e._v(e._s(e.sufferer.nation))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"职业或身份:"}},[e._v(e._s(e.sufferer.profession))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"证件类型:"}},[e._v(e._s(e.sufferer.identity_document))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"证件号:"}},[e._v(e._s(e.sufferer.identity_number))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"文化程度:"}},[e._v(e._s(e.sufferer.education))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"年级:"}},[e._v(e._s(e.sufferer.grade))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"学院或单位:"}},[e._v(e._s(e.sufferer.work_place))]),e._v(" "),s("el-form-item",{staticStyle:{width:"30%"},attrs:{label:"联系方式:"}},[e._v(e._s(e.sufferer.phone))]),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"住址:"}},[e._v(e._s(e.sufferer.home_addr))])],1)],1):e._e(),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[e._v("\n            案发情况\n            "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"案发地点:"}},[e._v(e._s(e.print_occur_place))]),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"案发时间段:"}},[e._v("\n                    "+e._s(e.caseInformation.period[0])+"—"+e._s(e.caseInformation.period[1])+"\n                ")]),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"案情:"}},[e._v(e._s(e.caseInformation.desc))])],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"是否查看监控:"}},[e._v(e._s(e.saw_monitoring?"是":"否"))]),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"是否通知公安机关等部门:"}},[e._v(e._s(e.called_police?"是":"否"))])],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"left","margin-top":"20px"}},[e._v("报案人签名：")])]),e._v(" "),s("div",{staticClass:"down_1"},[s("div",{staticStyle:{"text-align":"left","margin-top":"20px"}},[s("span",[e._v("报案类型")]),e._v(" "),s("hr"),e._v(" "),s("el-form",{ref:"case_1",attrs:{model:e.caseInformation,rules:e.rules.baseInfo,inline:!0}},[s("el-form-item",{attrs:{label:"登记时间",prop:"caseTime"}},[s("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.caseInformation.caseTime,callback:function(t){e.$set(e.caseInformation,"caseTime",t)},expression:"caseInformation.caseTime"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"报案类型",prop:"caseType"}},[s("el-cascader",{attrs:{"expand-trigger":"hover",options:e.caseInformation.caseTypes,placeholder:"请选择报案类型"},model:{value:e.caseInformation.caseType,callback:function(t){e.$set(e.caseInformation,"caseType",t)},expression:"caseInformation.caseType"}})],1)],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"left","margin-top":"20px"}},[s("span",[e._v("报案人信息")]),e._v(" "),s("hr"),e._v(" "),s("el-form",{ref:"case_3",attrs:{model:e.reporter,inline:!0,rules:e.rules.componentInfo}},[s("el-form-item",{attrs:{label:"姓名",prop:"name"}},[s("el-input",{model:{value:e.reporter.name,callback:function(t){e.$set(e.reporter,"name",t)},expression:"reporter.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"性别"}},[s("el-radio",{staticClass:"radio",attrs:{label:!0},model:{value:e.reporter.gender,callback:function(t){e.$set(e.reporter,"gender",t)},expression:"reporter.gender"}},[e._v("男")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:!1},model:{value:e.reporter.gender,callback:function(t){e.$set(e.reporter,"gender",t)},expression:"reporter.gender"}},[e._v("女")])],1),e._v(" "),s("el-form-item",{attrs:{label:"年龄",prop:"age"}},[s("el-input",{model:{value:e.reporter.age,callback:function(t){e.$set(e.reporter,"age",e._n(t))},expression:"reporter.age"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"民族(国籍)"}},[s("el-input",{model:{value:e.reporter.nation,callback:function(t){e.$set(e.reporter,"nation",t)},expression:"reporter.nation"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"职业或身份"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.reporter.profession,callback:function(t){e.$set(e.reporter,"profession",t)},expression:"reporter.profession"}},e._l(e.info.professions,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"证件类型"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.reporter.identity_document,callback:function(t){e.$set(e.reporter,"identity_document",t)},expression:"reporter.identity_document"}},e._l(e.info.identity_types,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"证件号"}},[s("el-input",{model:{value:e.reporter.identity_number,callback:function(t){e.$set(e.reporter,"identity_number",t)},expression:"reporter.identity_number"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"文化程度"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.reporter.education,callback:function(t){e.$set(e.reporter,"education",t)},expression:"reporter.education"}},e._l(e.info.educations,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"单位"}},[s("el-input",{model:{value:e.reporter.work_place,callback:function(t){e.$set(e.reporter,"work_place",t)},expression:"reporter.work_place"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"住址"}},[s("el-input",{model:{value:e.reporter.home_addr,callback:function(t){e.$set(e.reporter,"home_addr",t)},expression:"reporter.home_addr"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"联系方式"}},[s("el-input",{model:{value:e.reporter.phone,callback:function(t){e.$set(e.reporter,"phone",t)},expression:"reporter.phone"}})],1)],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"left","margin-top":"20px"}},[s("span",{staticStyle:{"margin-right":"20px"}},[e._v("报案人是否与受害人为同一人:")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:e.samePerson,callback:function(t){e.samePerson=t},expression:"samePerson"}},[e._v("是")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:"0"},model:{value:e.samePerson,callback:function(t){e.samePerson=t},expression:"samePerson"}},[e._v("否")]),e._v(" "),e.show_suffer?s("div",{staticStyle:{"margin-top":"20px"}},[s("span",[e._v("受害人信息")]),e._v(" "),s("hr"),e._v(" "),s("el-form",{attrs:{model:e.sufferer,inline:!0,rules:e.rules.componentInfo}},[s("el-form-item",{attrs:{label:"姓名",prop:"name"}},[s("el-input",{model:{value:e.sufferer.name,callback:function(t){e.$set(e.sufferer,"name",t)},expression:"sufferer.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"性别"}},[s("el-radio",{staticClass:"radio",attrs:{label:!0},model:{value:e.sufferer.gender,callback:function(t){e.$set(e.sufferer,"gender",t)},expression:"sufferer.gender"}},[e._v("男")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:!1},model:{value:e.sufferer.gender,callback:function(t){e.$set(e.sufferer,"gender",t)},expression:"sufferer.gender"}},[e._v("女")])],1),e._v(" "),s("el-form-item",{attrs:{label:"年龄",prop:"age"}},[s("el-input",{model:{value:e.sufferer.age,callback:function(t){e.$set(e.sufferer,"age",e._n(t))},expression:"sufferer.age"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"民族(国籍)"}},[s("el-input",{model:{value:e.sufferer.nation,callback:function(t){e.$set(e.sufferer,"nation",t)},expression:"sufferer.nation"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"职业或身份"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.sufferer.profession,callback:function(t){e.$set(e.sufferer,"profession",t)},expression:"sufferer.profession"}},e._l(e.info.professions,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"证件类型"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.sufferer.identity_document,callback:function(t){e.$set(e.sufferer,"identity_document",t)},expression:"sufferer.identity_document"}},e._l(e.info.identity_types,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"证件号"}},[s("el-input",{model:{value:e.sufferer.identity_number,callback:function(t){e.$set(e.sufferer,"identity_number",t)},expression:"sufferer.identity_number"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"文化程度"}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.sufferer.education,callback:function(t){e.$set(e.sufferer,"education",t)},expression:"sufferer.education"}},e._l(e.info.educations,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"单位"}},[s("el-input",{model:{value:e.sufferer.work_place,callback:function(t){e.$set(e.sufferer,"work_place",t)},expression:"sufferer.work_place"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"住址"}},[s("el-input",{model:{value:e.sufferer.home_addr,callback:function(t){e.$set(e.sufferer,"home_addr",t)},expression:"sufferer.home_addr"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"联系方式"}},[s("el-input",{model:{value:e.sufferer.phone,callback:function(t){e.$set(e.sufferer,"phone",t)},expression:"sufferer.phone"}})],1)],1)],1):e._e()],1),e._v(" "),s("div",{staticStyle:{"margin-top":"20px","text-align":"left"}},[e._v("\n            案发情况\n            "),s("hr"),e._v(" "),s("el-form",{ref:"case_2",attrs:{model:e.caseInformation,inline:!0,rules:e.rules.baseInfo}},[s("el-form-item",{attrs:{label:"案发时间段",prop:"period"}},[s("el-date-picker",{attrs:{type:"datetimerange",placeholder:"选择时间范围"},model:{value:e.caseInformation.period,callback:function(t){e.$set(e.caseInformation,"period",t)},expression:"caseInformation.period"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"案发地点",prop:"occur_place"}},[s("el-cascader",{attrs:{"expand-trigger":"hover",options:e.caseInformation.occur_places,placeholder:"请选择报案类型"},model:{value:e.caseInformation.occur_place,callback:function(t){e.$set(e.caseInformation,"occur_place",t)},expression:"caseInformation.occur_place"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"案情"}},[s("el-input",{staticStyle:{width:"1000px"},attrs:{type:"textarea",rows:5,placeholder:"请输入内容"},model:{value:e.caseInformation.desc,callback:function(t){e.$set(e.caseInformation,"desc",t)},expression:"caseInformation.desc"}})],1)],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"left","margin-top":"20px"}},[s("hr"),e._v(" "),s("span",{staticStyle:{"margin-top":"20px"}},[e._v("报案人是否通知公安机关等部门:")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:!0},model:{value:e.called_police,callback:function(t){e.called_police=t},expression:"called_police"}},[e._v("是")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:!1},model:{value:e.called_police,callback:function(t){e.called_police=t},expression:"called_police"}},[e._v("否")])],1),e._v(" "),s("div",{staticStyle:{"text-align":"left","margin-top":"20px"}},[s("span",{staticStyle:{"margin-right":"20px"}},[e._v("报案人是否查看监控:")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:!0},model:{value:e.saw_monitoring,callback:function(t){e.saw_monitoring=t},expression:"saw_monitoring"}},[e._v("是")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:!1},model:{value:e.saw_monitoring,callback:function(t){e.saw_monitoring=t},expression:"saw_monitoring"}},[e._v("否")])],1),e._v(" "),s("div",{staticStyle:{"text-align":"left","margin-top":"20px"}},[s("el-button",{attrs:{type:"success"},on:{click:function(t){return e.report("case_1","case_2","case_3")}}},[e._v("报 案")])],1)])])},[],!1,null,"3c68bf0c",null).exports}}),$=Object(r.a)(T,function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("el-tabs",{attrs:{type:"card"}},[t("el-tab-pane",{attrs:{label:"校内人员登记"}},[t("in-campus-case-register")],1),this._v(" "),t("el-tab-pane",{attrs:{label:"校外人员登记"}},[t("out-campus-case-register")],1)],1)],1)},[],!1,null,"0ddf0716",null).exports,I={components:{caseDialog:b},data:()=>({dialogVisible:!1,allData:[],historyCaseData:[],caseDetail:{},caseDetailReporter:{},caseDetailSuffer:{},caseDetailSuspect:{},caseDetailWitness:{},caseDetailProperty:{},show_suffer:!0,show_suspect:!0,show_witness:!0,show_property:!0,time:"",name:""}),methods:{print(){document.getElementsByClassName("print_detail_button")[0].style.display="none";let e=document.getElementById("detail_print").innerHTML;document.body.innerHTML=e,window.print(),window.location.reload()},getCases(){u.a.create({headers:{Authorization:"JWT "+this.token}}).get("/api/v1/cases/").then(e=>{let t=[],s=e.data.length;for(let a=0;a<s;a++)2===e.data[a].deal_status&&t.push(e.data[a]);this.historyCaseData=t,this.allData=t}).catch(e=>{this.fail("获取历史案件列表失败！")})},showDetail(e){this.caseDetail={},this.caseDetailReporter={},this.caseDetailSuffer={},this.caseDetailSuspect={},this.caseDetailWitness={},this.caseDetailProperty={},this.dialogVisible=!0,this.caseDetail=e,this.caseDetailReporter=e.reporter,e.sufferer?(this.caseDetailSuffer=e.sufferer,this.show_suffer=!0):this.show_suffer=!1,e.suspect?(this.caseDetailSuspect=e.suspect,this.show_suspect=!0):this.show_suspect=!1,e.witness?(this.caseDetailWitness=e.witness,this.show_witness=!0):this.show_witness=!1,e.property_loss?(this.caseDetailProperty=e.property_loss,this.show_property=!0):this.show_property=!1},closeDetail(){this.dialogVisible=!1},dealCase(e){let t=new Date,a=s(8),i=u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}}),l=a.stringify({deal_status:3,filing_time:t});i.post("/api/v1/cases/"+e.id+"/deal/",l).then(e=>{this.getCases(),this.$message({message:"该案件状态更新为归档案件!",type:"success"})}).catch(e=>{this.$message({message:"案件状态更新失败!",type:"error"})})},changeTime(e){if(e.getFullYear){let t=e.getFullYear(),s=e.getMonth()+1,a=e.getDate();return t+"-"+this.formTime(s)+"-"+this.formTime(a)}return e},formTime:e=>e>9?e:"0"+e,searchTime(){this.time=this.changeTime(this.time);let e=[],t=this.historyCaseData.length;for(let s=0;s<t;s++){this.historyCaseData[s].occur_time.substring(0,10)===this.time&&e.push(this.historyCaseData[s])}this.historyCaseData=e},searchName(){let e=[],t=this.historyCaseData.length;for(let s=0;s<t;s++)this.historyCaseData[s].reporter.name===this.name&&e.push(this.historyCaseData[s]);this.historyCaseData=e},search(){this.historyCaseData=this.allData,""!==this.time&&null!==this.time||""!==this.name?""!==this.time&&""===this.name?this.searchTime():""!==this.time&&null!==this.time||""===this.name?""!==this.time&&""!==this.name&&(this.searchTime(),this.searchName()):this.searchName():this.$message("请输入要搜索的时间或者报案人姓名！")},handleTime(e){if(e){return e.substring(0,19).replace("T"," ")}},handleEducation(e){switch(e.education){case 0:e.education="小学";break;case 1:e.education="初中";break;case 2:e.education="高中";break;case 3:e.education="专科";break;case 4:e.education="本科";break;case 5:e.education="硕士";break;case 6:e.education="博士"}},handleIdentityDocument(e){switch(e.identity_document){case 0:e.identity_document="护照";break;case 1:e.identity_document="学生证";break;case 2:e.identity_document="身份证"}}},mounted(){u.a.defaults.headers.common.Authorization="JWT "+this.token,this.getCases()},computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e})({},Object(a.c)({token:e=>e.token,historyCase:e=>e.historyCase})),watch:{historyCaseData:function(){let e=this.historyCaseData.length;for(let t=0;t<e;t++)this.historyCaseData[t].reporter.gender=!0===this.historyCaseData[t].reporter.gender?"男":"女",this.historyCaseData[t].occur_time=this.handleTime(this.historyCaseData[t].occur_time),0===this.historyCaseData[t].check_status?this.historyCaseData[t].check_status="未审核":1===this.historyCaseData[t].check_status?this.historyCaseData[t].check_status="审核通过":2===this.historyCaseData[t].check_status&&(this.historyCaseData[t].check_status="审核未通过"),this.handleEducation(this.historyCaseData[t].reporter),this.historyCaseData[t].sufferer&&this.handleEducation(this.historyCaseData[t].sufferer),this.historyCaseData[t].suspect&&this.handleEducation(this.historyCaseData[t].suspect),this.historyCaseData[t].witness&&this.handleEducation(this.historyCaseData[t].witness),this.handleIdentityDocument(this.historyCaseData[t].reporter),this.historyCaseData[t].sufferer&&this.handleIdentityDocument(this.historyCaseData[t].sufferer),this.historyCaseData[t].suspect&&this.handleIdentityDocument(this.historyCaseData[t].suspect),this.historyCaseData[t].witness&&this.handleIdentityDocument(this.historyCaseData[t].witness)},time:function(){""!==this.time&&null!==this.time||""!==this.name||(this.historyCaseData=this.allData)},name:function(){""!==this.time&&null!==this.time||""!==this.name||(this.historyCaseData=this.allData)}}},P=(s(147),Object(r.a)(I,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-dialog",{attrs:{title:"案件详情",width:"90%",visible:e.dialogVisible,"before-close":e.closeDetail},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("div",{attrs:{id:"detail_print"}},[s("case-dialog",{attrs:{caseDetail:e.caseDetail,caseDetailReporter:e.caseDetailReporter,caseDetailSuffer:e.caseDetailSuffer,caseDetailSuspect:e.caseDetailSuspect,caseDetailWitness:e.caseDetailWitness,caseDetailProperty:e.caseDetailProperty,show_suffer:e.show_suffer,show_suspect:e.show_suspect,show_witness:e.show_witness,show_property:e.show_property}}),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[e._v("\n            审核结果\n            "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"审核结果:"}},[e._v(e._s(e.caseDetail.check_status))]),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"原因:"}},[e._v(e._s(e.caseDetail.pass_reason))])],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[e._v("\n            处理结果\n            "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"处理结果:"}},[e._v(e._s(e.caseDetail.deal_result))])],1)],1),e._v(" "),s("div",{staticClass:"print_detail_button",staticStyle:{"text-align":"left"}},[s("el-button",{attrs:{type:"message"},on:{click:e.print}},[e._v("点击打印")])],1)],1)]),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[e._v("\n        时间：\n        "),s("el-date-picker",{attrs:{type:"date",placeholder:"请选择日期"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}}),e._v("    \n        报案人姓名：\n        "),s("el-input",{staticClass:"searchName",attrs:{placeholder:"请输入查询的报案人姓名"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),s("el-button",{staticStyle:{margin:"0 20px"},attrs:{type:"success"},on:{click:e.search}},[e._v("搜索")])],1),e._v(" "),s("div",{staticStyle:{"margin-top":"50px"}},[s("el-table",{attrs:{data:e.historyCaseData,border:""}},[s("el-table-column",{attrs:{label:"案件编号",align:"center",prop:"case_id",width:"200"}}),e._v(" "),s("el-table-column",{attrs:{label:"报案人姓名",align:"center",prop:"reporter.name",width:"150"}}),e._v(" "),s("el-table-column",{attrs:{label:"性别",align:"center",prop:"reporter.gender"}}),e._v(" "),s("el-table-column",{attrs:{label:"年龄",align:"center",prop:"reporter.age"}}),e._v(" "),s("el-table-column",{attrs:{label:"联系方式",align:"center",prop:"reporter.phone",width:"150"}}),e._v(" "),s("el-table-column",{attrs:{label:"报案时间",align:"center",prop:"occur_time",width:"180"}}),e._v(" "),s("el-table-column",{attrs:{label:"案件类型",align:"center",prop:"case_type",width:"150"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作",align:"center",fixed:"right",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return e.showDetail(t.row)}}},[e._v("查看详情")]),e._v(" "),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return e.dealCase(t.row)}}},[e._v("案件归档")])]}}])})],1)],1)],1)},[],!1,null,"2107d38f",null).exports),L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},R={components:{},data:()=>({users:[],id:Number,dialogVisible_del:!1}),methods:L({getAccount(){u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}}).get("/api/v1/users/").then(e=>{this.users=e.data,this.setUserList(e.data)}).catch(e=>{this.fail("获取用户列表失败！")})},resetForm(e){this.$refs[e].resetFields()},deleteAccount(){u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}}).delete("/api/v1/users/"+this.id+"/").then(e=>{this.delCancel(),this.success("删除账号成功！"),this.getAccount()}).catch(e=>{this.delCancel(),this.fail("删除账号失败！"),this.getAccount()})},deleteClick(e){this.id=e.id,this.dialogVisible_del=!0},delCancel(){this.dialogVisible_del=!1,this.id=Number},success(e){this.$message({message:e,type:"success"})},fail(e){this.$message({message:e,type:"error"})}},Object(a.b)(["setUserList"])),computed:L({},Object(a.c)({token:e=>e.token,userList:e=>e.userList})),mounted(){u.a.defaults.headers.common.Authorization="JWT "+this.token,this.getAccount()},watch:{users:function(){let e=this.users.length;for(let t=0;t<e;t++)0===this.users[t].role?this.users[t].role="案件中心管理员":1===this.users[t].role?this.users[t].role="治安科工作人员":2===this.users[t].role&&(this.users[t].role="治安科助管")}}},O=Object(r.a)(R,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-dialog",{attrs:{title:"确定删除该账户?",visible:e.dialogVisible_del,"before-close":e.delCancel},on:{"update:visible":function(t){e.dialogVisible_del=t}}},[s("span",{staticClass:"dialog-footer"},[s("el-button",{on:{click:e.delCancel}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.deleteAccount}},[e._v("确 定")])],1)]),e._v(" "),s("el-table",{attrs:{data:e.users,border:""}},[s("el-table-column",{attrs:{label:"用户名称",align:"center",prop:"username"}}),e._v(" "),s("el-table-column",{attrs:{label:"姓名",align:"center",prop:"name"}}),e._v(" "),s("el-table-column",{attrs:{label:"电话",align:"center",prop:"phone"}}),e._v(" "),s("el-table-column",{attrs:{label:"邮箱",align:"center",prop:"email"}}),e._v(" "),s("el-table-column",{attrs:{label:"身份证",align:"center",prop:"identity_card"}}),e._v(" "),s("el-table-column",{attrs:{label:"权限",align:"center",prop:"role"}}),e._v(" "),s("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return e.deleteClick(t.row)}}},[e._v("删除")])]}}])})],1)],1)},[],!1,null,"f4f1cfa4",null).exports,E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},j={data:()=>({inSchool:"",inSchools:[],addInSchool:"",outSchool:"",outSchools:[],addOutSchool:"",address1:"",address1_s:[],address2:"",address2_s:[],type1:"",type1_s:[],type2:"",type2_s:[],dialogVisible:!1,dialogTitle:"",add:""}),methods:E({getList(e){let t=e.data.length,s=[],a=[];for(let i=0;i<t;i++)e.data[i].is_parent?s.push({id:e.data[i].id,name:e.data[i].name,children:[]}):a.push({id:e.data[i].id,name:e.data[i].name,parent:e.data[i].parent});let i=s.length,l=a.length;for(let e=0;e<l;e++)for(let t=0;t<i;t++)s[t].id===a[e].parent&&s[t].children.push(a[e]);return s},casePosition(){u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}});u.a.get("/api/v1/address/").then(e=>{this.address1_s=this.getList(e),this.setLabelPosition(e.data)}).catch(e=>{this.fail("获取案发地点失败！")})},caseType(){u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}});u.a.get("/api/v1/casetype/").then(e=>{this.type1_s=this.getList(e),this.setLabelType(e.data)}).catch(e=>{this.fail("获取案件类型失败！")})},profession(){u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}});u.a.get("/api/v1/profession/").then(e=>{let t=e.data.length,s=[],a=[];for(let i=0;i<t;i++)e.data[i].in_school?s.push({id:e.data[i].id,name:e.data[i].name}):a.push({id:e.data[i].id,name:e.data[i].name});this.inSchools=s,this.outSchools=a,this.setLabelProfession_in(s),this.setLabelProfession_out(a)}).catch(e=>{this.fail("获取职业或身份失败！")})},addProfession(e){let t="inSchool"===e?this.addInSchool:this.addOutSchool,a="inSchool"===e?"True":"False",i=s(8),l=u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}}),r=i.stringify({name:t,in_school:a});l.post("/api/v1/profession/",r).then(e=>{this.Refresh("profession"),this.success("添加成功！")}).catch(e=>{this.Refresh("profession"),this.fail("添加失败！")})},delProfession(e){let t="inSchool"===e?"校内":"校外",s="inSchool"===e?this.inSchool:this.outSchool;this.$confirm("此操作将删除选择的"+t+"职业, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}}).delete("/api/v1/profession/"+s+"/").then(e=>{this.Refresh("profession"),this.success("删除成功！")}).catch(e=>{this.Refresh("profession"),this.fail("删除失败！")})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},addIn_School(){""!==this.addInSchool?this.addProfession("inSchool"):this.$message("请输入校内职业或身份！")},delIn_School(){""!==this.inSchool?this.delProfession("inSchool"):this.$message("请选择要删除的校内职业！")},addOut_School(){""!==this.addOutSchool?this.addProfession("outSchool"):this.$message("请输入校外职业或身份！")},delOut_School(){""!==this.outSchool?this.delProfession("outSchool"):this.$message("请选择要删除的校外职业！")},showDialog(e){"添加案发地点一级标签"===e||"添加案件类型一级标签"===e||"添加案发地点二级标签"===e&&""!==this.address1||"添加案件类型二级标签"===e&&""!==this.type1?(this.dialogVisible=!0,this.dialogTitle=e):("添加案发地点二级标签"===e&&""===this.address1||"添加案件类型二级标签"===e&&""===this.type1)&&this.$message("请选择添加目录！")},AddSure(){""!==this.add?"添加案发地点一级标签"===this.dialogTitle?this.addAddressType("address",1):"添加案发地点二级标签"===this.dialogTitle?this.addAddressType("address",2):"添加案件类型一级标签"===this.dialogTitle?this.addAddressType("casetype",1):"添加案件类型二级标签"===this.dialogTitle&&this.addAddressType("casetype",2):this.$message("请选择输入标签名称！")},addAddressType(e,t){let a={},i=s(8),l=u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}});if(1===t)a=i.stringify({name:this.add,is_parent:!0});else if(2===t){let t="address"===e?this.address1:this.type1;a=i.stringify({name:this.add,parent:t,is_parent:!1})}l.post("/api/v1/"+e+"/",a).then(t=>{this.dialogVisible=!1,this.add="",this.Refresh(e),this.success("添加成功！")}).catch(function(t){this.dialogVisible=!1,this.add="",this.Refresh(e),this.fail("添加失败！")})},delAddressType(e,t){let s=1===t?"一级":"二级",a="address"===e?"案发地点":"案件类型",i="";"address"===e?1===t?i=this.address1:2===t&&(i=this.address2):"casetype"===e&&(1===t?i=this.type1:2===t&&(i=this.type2)),this.$confirm("此操作将删除选择的"+s+a+", 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}}).delete("/api/v1/"+e+"/"+i+"/").then(t=>{this.Refresh(e),this.success("删除成功！")}).catch(t=>{this.Refresh(e),this.fail("删除失败！")})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},delAddress_1(){""!==this.address1?this.delAddressType("address",1):this.$message("请选择要删除的一级案发地点！")},delAddress_2(){""!==this.address2?this.delAddressType("address",2):this.$message("请选择要删除的二级案发地点！")},delType_1(){""!==this.type1?this.delAddressType("casetype",1):this.$message("请选择要删除的一级案件类型！")},delType_2(){""!==this.type2?this.delAddressType("casetype",2):this.$message("请选择要删除的二级案件类型！")},Refresh(e){"address"===e?(this.address1="",this.address1_s=[],this.address2="",this.address2_s=[],this.casePosition()):"casetype"===e?(this.type1="",this.type1_s=[],this.type2="",this.type2_s=[],this.caseType()):"profession"===e&&(this.inSchool="",this.inSchools=[],this.addInSchool="",this.outSchool="",this.outSchools=[],this.addOutSchool="",this.profession())},success(e){this.$message({message:e,type:"success"})},fail(e){this.$message({message:e,type:"error"})}},Object(a.b)(["setLabelProfession_in","setLabelProfession_out","setLabelPosition","setLabelType"])),mounted:function(){u.a.defaults.headers.common.Authorization="JWT "+this.token,this.caseType(),this.casePosition(),this.profession()},computed:E({},Object(a.c)({token:e=>e.token,labelType:e=>e.labelType,labelPosition:e=>e.labelPosition,labelProfession_in:e=>e.labelProfession_in,labelProfession_out:e=>e.labelProfession_out})),watch:{address1:function(e,t){let s=this.address1_s.length;for(let e=0;e<s;e++)this.address1_s[e].id===this.address1&&(this.address2_s=this.address1_s[e].children)},type1:function(e,t){let s=this.type1_s.length;for(let e=0;e<s;e++)this.type1_s[e].id===this.type1&&(this.type2_s=this.type1_s[e].children)}}},W=Object(r.a)(j,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h3",{staticStyle:{"text-align":"left"}},[e._v("标签管理")]),e._v(" "),s("hr"),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[s("h4",{staticStyle:{"text-align":"left"}},[e._v("职业或身份")]),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{attrs:{label:"校内职业或身份"}},[s("el-select",{attrs:{placeholder:"校内职业详细"},model:{value:e.inSchool,callback:function(t){e.inSchool=e._n(t)},expression:"inSchool"}},e._l(e.inSchools,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-input",{staticStyle:{width:"200px","margin-right":"15px"},attrs:{placeholder:"新增校内职业或身份"},model:{value:e.addInSchool,callback:function(t){e.addInSchool=t},expression:"addInSchool"}}),e._v(" "),s("el-button",{on:{click:e.addIn_School}},[e._v("添加")]),e._v(" "),s("el-button",{on:{click:e.delIn_School}},[e._v("删除")])],1),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{attrs:{label:"校外职业或身份"}},[s("el-select",{attrs:{placeholder:"校外职业详细"},model:{value:e.outSchool,callback:function(t){e.outSchool=e._n(t)},expression:"outSchool"}},e._l(e.outSchools,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-input",{staticStyle:{width:"200px","margin-right":"15px"},attrs:{placeholder:"新增校外职业或身份"},model:{value:e.addOutSchool,callback:function(t){e.addOutSchool=t},expression:"addOutSchool"}}),e._v(" "),s("el-button",{on:{click:e.addOut_School}},[e._v("添加")]),e._v(" "),s("el-button",{on:{click:e.delOut_School}},[e._v("删除")])],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[s("h4",[e._v("案发地点")]),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.address1,callback:function(t){e.address1=e._n(t)},expression:"address1"}},e._l(e.address1_s,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",[s("el-button",{on:{click:function(t){return e.showDialog("添加案发地点一级标签")}}},[e._v("添加一级")]),e._v(" "),s("el-button",{on:{click:e.delAddress_1}},[e._v("删除一级")])],1),e._v(" "),s("el-form-item",[s("el-select",{attrs:{placeholder:"详细目录"},model:{value:e.address2,callback:function(t){e.address2=e._n(t)},expression:"address2"}},e._l(e.address2_s,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",[s("el-button",{on:{click:function(t){return e.showDialog("添加案发地点二级标签")}}},[e._v("添加二级")]),e._v(" "),s("el-button",{on:{click:e.delAddress_2}},[e._v("删除二级")])],1)],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[s("h4",[e._v("案件类型")]),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.type1,callback:function(t){e.type1=e._n(t)},expression:"type1"}},e._l(e.type1_s,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",[s("el-button",{on:{click:function(t){return e.showDialog("添加案件类型一级标签")}}},[e._v("添加一级")]),e._v(" "),s("el-button",{on:{click:e.delType_1}},[e._v("删除一级")])],1),e._v(" "),s("el-form-item",[s("el-select",{attrs:{placeholder:"详细目录"},model:{value:e.type2,callback:function(t){e.type2=e._n(t)},expression:"type2"}},e._l(e.type2_s,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",[s("el-button",{on:{click:function(t){return e.showDialog("添加案件类型二级标签")}}},[e._v("添加二级")]),e._v(" "),s("el-button",{on:{click:e.delType_2}},[e._v("删除二级")])],1)],1)],1),e._v(" "),s("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("div",[s("el-input",{attrs:{placeholder:"请输入标签名称"},model:{value:e.add,callback:function(t){e.add=t},expression:"add"}})],1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.AddSure}},[e._v("确 定")])],1)])],1)},[],!1,null,"4555d09f",null).exports,V={components:{caseDialog:b},data:()=>({dialogVisible:!1,stayCaseData:[],caseDetail:{},caseDetailReporter:{},caseDetailSuffer:{},caseDetailSuspect:{},caseDetailWitness:{},caseDetailProperty:{},show_suffer:!0,show_suspect:!0,show_witness:!0,show_property:!0,time:""}),methods:{print(){document.getElementsByClassName("print_detail_button")[0].style.display="none";let e=document.getElementById("detail_print").innerHTML;document.body.innerHTML=e,window.print(),window.location.reload()},getCases(){u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}}).get("/api/v1/cases/").then(e=>{let t=[],s=e.data.length;for(let a=0;a<s;a++)0===e.data[a].deal_status&&t.push(e.data[a]);this.stayCaseData=t}).catch(e=>{this.$message({message:"获取待办案件列表失败！",type:"error"})})},showDetail(e){this.caseDetail={},this.caseDetailReporter={},this.caseDetailSuffer={},this.caseDetailSuspect={},this.caseDetailWitness={},this.caseDetailProperty={},this.show_suffer=!0,this.show_suspect=!0,this.show_witness=!0,this.show_property=!0,this.dialogVisible=!0,this.caseDetail=e,this.caseDetailReporter=e.reporter,e.sufferer?(this.caseDetailSuffer=e.sufferer,this.show_suffer=!0):this.show_suffer=!1,e.suspect?(this.caseDetailSuspect=e.suspect,this.show_suspect=!0):this.show_suspect=!1,e.witness?(this.caseDetailWitness=e.witness,this.show_witness=!0):this.show_witness=!1,e.property_loss?(this.caseDetailProperty=e.property_loss,this.show_property=!0):this.show_property=!1},closeDetail(){this.dialogVisible=!1},changeTime(e){if(e.getFullYear){let t=e.getFullYear(),s=e.getMonth()+1,a=e.getDate();return t+"-"+this.formTime(s)+"-"+this.formTime(a)}return e},formTime:e=>e>9?e:"0"+e,search(){if(""!==this.time&&null!==this.time){this.time=this.changeTime(this.time);let e=[],t=this.stayCaseData.length;for(let s=0;s<t;s++){this.stayCaseData[s].occur_time.substring(0,10)===this.time&&e.push(this.stayCaseData[s])}this.stayCaseData=e}else this.$message("请输入要搜索的时间！")},getTime(e){this.time=e,null!==this.time&&""!==this.time||(this.stayCaseData=this.stayCase)},dealCase(e){let t=s(8),a=u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}}),i=t.stringify({deal_status:1});a.post("/api/v1/cases/"+e.id+"/deal/",i).then(e=>{this.closeDetail(),this.getCases(),this.$message({message:"该案件状态更新为在办案件!",type:"success"})}).catch(e=>{this.closeDetail(),this.$message({message:"案件状态更新失败!",type:"error"})})},handleTime(e){if(e){return e.substring(0,19).replace("T"," ")}},handleEducation(e){switch(e.education){case 0:e.education="小学";break;case 1:e.education="初中";break;case 2:e.education="高中";break;case 3:e.education="专科";break;case 4:e.education="本科";break;case 5:e.education="硕士";break;case 6:e.education="博士"}},handleIdentityDocument(e){switch(e.identity_document){case 0:e.identity_document="护照";break;case 1:e.identity_document="学生证";break;case 2:e.identity_document="身份证"}}},mounted(){u.a.defaults.headers.common.Authorization="JWT "+this.token,this.getCases()},watch:{stayCaseData:function(){let e=this.stayCaseData.length;for(let t=0;t<e;t++)this.stayCaseData[t].reporter.gender=this.stayCaseData[t].reporter.gender?"男":"女",0===this.stayCaseData[t].check_status?this.stayCaseData[t].check_status="未审核":1===this.stayCaseData[t].check_status?this.stayCaseData[t].check_status="审核通过":2===this.stayCaseData[t].check_status&&(this.stayCaseData[t].check_status="审核未通过"),this.stayCaseData[t].occur_time=this.handleTime(this.stayCaseData[t].occur_time),this.handleEducation(this.stayCaseData[t].reporter),this.stayCaseData[t].sufferer&&this.handleEducation(this.stayCaseData[t].sufferer),this.stayCaseData[t].suspect&&this.handleEducation(this.stayCaseData[t].suspect),this.stayCaseData[t].witness&&this.handleEducation(this.stayCaseData[t].witness),this.handleIdentityDocument(this.stayCaseData[t].reporter),this.stayCaseData[t].sufferer&&this.handleIdentityDocument(this.stayCaseData[t].sufferer),this.stayCaseData[t].suspect&&this.handleIdentityDocument(this.stayCaseData[t].suspect),this.stayCaseData[t].witness&&this.handleIdentityDocument(this.stayCaseData[t].witness)},time:function(){""!==this.time&&null!==this.time||this.getCases()}},computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e})({},Object(a.c)({token:e=>e.token,stayCase:e=>e.stayCase}))},A=(s(148),Object(r.a)(V,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-dialog",{attrs:{title:"案件详情",width:"90%",visible:e.dialogVisible,"before-close":e.closeDetail},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("div",{attrs:{id:"detail_print"}},[s("case-dialog",{attrs:{caseDetail:e.caseDetail,caseDetailReporter:e.caseDetailReporter,caseDetailSuffer:e.caseDetailSuffer,caseDetailSuspect:e.caseDetailSuspect,caseDetailWitness:e.caseDetailWitness,caseDetailProperty:e.caseDetailProperty,show_suffer:e.show_suffer,show_suspect:e.show_suspect,show_witness:e.show_witness,show_property:e.show_property}}),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[e._v("\n            审核结果\n            "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"审核结果:"}},[e._v(e._s(e.caseDetail.check_status))]),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"原因:"}},[e._v(e._s(e.caseDetail.pass_reason))])],1)],1),e._v(" "),s("div",{staticClass:"print_detail_button",staticStyle:{"text-align":"left"}},[s("el-button",{attrs:{type:"message"},on:{click:e.print}},[e._v("点击打印")])],1)],1)]),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[e._v("\n        时间:\n        "),s("el-date-picker",{attrs:{type:"date",placeholder:"请选择日期"},on:{change:e.getTime},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}}),e._v(" "),s("el-button",{staticStyle:{margin:"0 20px"},attrs:{type:"success"},on:{click:e.search}},[e._v("搜索")])],1),e._v(" "),s("div",{staticStyle:{"margin-top":"50px"}},[s("el-table",{attrs:{data:e.stayCaseData,border:""}},[s("el-table-column",{attrs:{label:"案件编号",align:"center",prop:"case_id",width:"200"}}),e._v(" "),s("el-table-column",{attrs:{label:"报案人姓名",align:"center",prop:"reporter.name",width:"170"}}),e._v(" "),s("el-table-column",{attrs:{label:"性别",align:"center",prop:"reporter.gender"}}),e._v(" "),s("el-table-column",{attrs:{label:"年龄",align:"center",prop:"reporter.age"}}),e._v(" "),s("el-table-column",{attrs:{label:"联系方式",align:"center",prop:"reporter.phone",width:"150"}}),e._v(" "),s("el-table-column",{attrs:{label:"报案时间",align:"center",prop:"occur_time",width:"200"}}),e._v(" "),s("el-table-column",{attrs:{label:"案件类型",align:"center",prop:"case_type",width:"150"}}),e._v(" "),s("el-table-column",{attrs:{label:"上报单位",align:"center",prop:"work_place"}}),e._v(" "),s("el-table-column",{attrs:{label:"上报人员",align:"center",prop:"registrant.name",width:"130"}}),e._v(" "),s("el-table-column",{attrs:{label:"状态",align:"center",prop:"check_status",width:"130"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作",align:"center",fixed:"right",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return e.showDetail(t.row)}}},[e._v("查看详情")]),e._v(" "),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return e.dealCase(t.row)}}},[e._v("开始处理")])]}}])})],1)],1)],1)},[],!1,null,"d471b3c4",null).exports),F={components:{caseDialog:b},data:()=>({dialogVisible:!1,allData:[],workCaseData:[],caseDetail:{},caseDetailReporter:{},caseDetailSuffer:{},caseDetailSuspect:{},caseDetailWitness:{},caseDetailProperty:{},show_suffer:!0,show_suspect:!0,show_witness:!0,show_property:!0,dialogDispose:!1,row:{},result:[],results:[{value:"报案",label:"报案",children:[{value:"破案",label:"破案",children:[{value:"挡获嫌疑人、未寻回损失财物",label:"挡获嫌疑人、未寻回损失财物"},{value:"挡获嫌疑人、寻回损失财物",label:"挡获嫌疑人、寻回损失财物"},{value:"未挡获嫌疑人、寻回损失财物",label:"未挡获嫌疑人、寻回损失财物"}]},{value:"调解和解",label:"调解和解",children:[{value:"保卫处调解",label:"保卫处调解"},{value:"双方和解",label:"双方和解"}]},{value:"未破案",label:"未破案",children:[{value:"已查到监控录像",label:"未查到监控录像"}]}]},{value:"报警求助",label:"报警求助",children:[{value:"已前往现场处置",label:"已前往现场处置",children:[{value:"应急队员已经现场处置成功",label:"应急队员已经现场处置成功"},{value:"应急队员已通知相关科室处置",label:"应急队员已通知相关科室处置"},{value:"应急队员已通知值班干部处置",label:"应急队员已通知值班干部处置"}]},{value:"已联系相关单位",label:"已联系相关单位",children:[{value:"联系后勤保障部",label:"联系后勤保障部"},{value:"联系当事相关学院",label:"联系当事相关学院"},{value:"联系当事机关单位",label:"联系当事机关单位"}]}]},{value:"其他",label:"其他"}],time:"",status:"3"}),methods:{print(){document.getElementsByClassName("print_detail_button")[0].style.display="none";let e=document.getElementById("detail_print").innerHTML;document.body.innerHTML=e,window.print(),window.location.reload()},getCases(){u.a.create({headers:{"content-type":"application/x-www-form-urlencoded",Authorization:"JWT "+this.token}}).get("/api/v1/cases/").then(e=>{let t=[],s=e.data.length;for(let a=0;a<s;a++)1===e.data[a].deal_status&&t.push(e.data[a]);this.workCaseData=t,this.allData=t}).catch(e=>{this.$message({message:"获取在办案件列表失败！",type:"error"})})},showDetail(e){this.caseDetail={},this.caseDetailReporter={},this.caseDetailSuffer={},this.caseDetailSuspect={},this.caseDetailWitness={},this.caseDetailProperty={},this.show_suffer=!0,this.show_suspect=!0,this.show_witness=!0,this.show_property=!0,this.dialogVisible=!0,this.caseDetail=e,this.caseDetailReporter=e.reporter,e.sufferer?(this.caseDetailSuffer=e.sufferer,this.show_suffer=!0):this.show_suffer=!1,e.suspect?(this.caseDetailSuspect=e.suspect,this.show_suspect=!0):this.show_suspect=!1,e.witness?(this.caseDetailWitness=e.witness,this.show_witness=!0):this.show_witness=!1,e.property_loss?(this.caseDetailProperty=e.property_loss,this.show_property=!0):this.show_property=!1},closeDetail(){this.dialogVisible=!1},dealCase(e){this.row={},this.dialogDispose=!0,this.row=e},handleDealCase(){let e=s(8),t=u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}}),a=e.stringify({deal_status:2,deal_result:this.result.join("/")});t.post("/api/v1/cases/"+this.row.id+"/deal/",a).then(e=>{this.dialogDispose=!1,this.row={},this.result=[],this.getCases(),this.$message({message:"案件处理成功，案件状态更新为历史案件!",type:"success"})}).catch(e=>{this.$message({message:"案件状态更新失败!",type:"error"})})},changeTime(e){if(e.getFullYear){let t=e.getFullYear(),s=e.getMonth()+1,a=e.getDate();return t+"-"+this.formTime(s)+"-"+this.formTime(a)}return e},formTime:e=>e>9?e:"0"+e,searchTime(){null===this.time||""===this.time?this.$message("请输入要搜索的时间！"):(this.status="3",this.workCaseData=this.allData,this.$nextTick(()=>{this.time=this.changeTime(this.time);let e=[],t=this.workCaseData.length;for(let s=0;s<t;s++){this.workCaseData[s].occur_time.substring(0,10)===this.time&&e.push(this.workCaseData[s])}this.workCaseData=e}))},getTime(e){this.time=e,null!==this.time&&""!==this.time||(this.workCaseData=this.allData,this.searchStatus())},searchStatus(){if("0"===this.status||"1"===this.status||"2"===this.status){let e=[],t="",s=this.workCaseData.length;"0"===this.status?t="未审核":"1"===this.status?t="审核通过":"2"===this.status&&(t="审核未通过");for(let a=0;a<s;a++)t===this.workCaseData[a].check_status&&e.push(this.workCaseData[a]);this.workCaseData=e}},handleTime(e){if(e){return e.substring(0,19).replace("T"," ")}},handleEducation(e){switch(e.education){case 0:e.education="小学";break;case 1:e.education="初中";break;case 2:e.education="高中";break;case 3:e.education="专科";break;case 4:e.education="本科";break;case 5:e.education="硕士";break;case 6:e.education="博士"}},handleIdentityDocument(e){switch(e.identity_document){case 0:e.identity_document="护照";break;case 1:e.identity_document="学生证";break;case 2:e.identity_document="身份证"}}},mounted(){u.a.defaults.headers.common.Authorization="JWT "+this.token,this.getCases()},computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e})({},Object(a.c)({token:e=>e.token,workCase:e=>e.workCase})),watch:{workCaseData:function(){let e=this.workCaseData.length;for(let t=0;t<e;t++)this.workCaseData[t].reporter.gender=!0===this.workCaseData[t].reporter.gender?"男":"女",0===this.workCaseData[t].check_status?this.workCaseData[t].check_status="未审核":1===this.workCaseData[t].check_status?this.workCaseData[t].check_status="审核通过":2===this.workCaseData[t].check_status&&(this.workCaseData[t].check_status="审核未通过"),this.workCaseData[t].occur_time=this.handleTime(this.workCaseData[t].occur_time),this.handleEducation(this.workCaseData[t].reporter),this.workCaseData[t].sufferer&&this.handleEducation(this.workCaseData[t].sufferer),this.workCaseData[t].suspect&&this.handleEducation(this.workCaseData[t].suspect),this.workCaseData[t].witness&&this.handleEducation(this.workCaseData[t].witness),this.handleIdentityDocument(this.workCaseData[t].reporter),this.workCaseData[t].sufferer&&this.handleIdentityDocument(this.workCaseData[t].sufferer),this.workCaseData[t].suspect&&this.handleIdentityDocument(this.workCaseData[t].suspect),this.workCaseData[t].witness&&this.handleIdentityDocument(this.workCaseData[t].witness)},status:function(){this.workCaseData=this.allData,this.searchStatus(),null!==this.time&&""!==this.time&&this.searchTime()}}},N=(s(149),Object(r.a)(F,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-dialog",{attrs:{title:"案件详情",width:"90%",visible:e.dialogVisible,"before-close":e.closeDetail},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("div",{attrs:{id:"detail_print"}},[s("case-dialog",{attrs:{caseDetail:e.caseDetail,caseDetailReporter:e.caseDetailReporter,caseDetailSuffer:e.caseDetailSuffer,caseDetailSuspect:e.caseDetailSuspect,caseDetailWitness:e.caseDetailWitness,caseDetailProperty:e.caseDetailProperty,show_suffer:e.show_suffer,show_suspect:e.show_suspect,show_witness:e.show_witness,show_property:e.show_property}}),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[e._v("\n            审核结果\n            "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"审核结果:"}},[e._v(e._s(e.caseDetail.check_status))]),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"原因:"}},[e._v(e._s(e.caseDetail.pass_reason))])],1)],1),e._v(" "),s("div",{staticClass:"print_detail_button",staticStyle:{"text-align":"left"}},[s("el-button",{attrs:{type:"message"},on:{click:e.print}},[e._v("点击打印")])],1)],1)]),e._v(" "),s("el-dialog",{attrs:{title:"处理结果",visible:e.dialogDispose},on:{"update:visible":function(t){e.dialogDispose=t}}},[s("el-cascader",{staticStyle:{width:"400px"},attrs:{options:e.results},model:{value:e.result,callback:function(t){e.result=t},expression:"result"}}),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogDispose=!1}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleDealCase()}}},[e._v("确 定")])],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[e._v("\n        时间：\n        "),s("el-date-picker",{attrs:{type:"date",placeholder:"请选择日期"},on:{change:e.getTime},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}}),e._v(" "),s("el-button",{staticStyle:{margin:"0 20px"},attrs:{type:"success"},on:{click:e.searchTime}},[e._v("搜索")]),e._v(" "),s("br"),e._v(" "),s("div",{staticStyle:{"margin-top":"40px"}},[e._v("\n            审核状态：\n            "),s("el-radio",{staticClass:"radio",attrs:{label:"0"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},[e._v("未审核")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},[e._v("审核通过")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:"2"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},[e._v("审核未通过")]),e._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:"3"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},[e._v("全部在办案件")])],1)],1),e._v(" "),s("div",{staticStyle:{"margin-top":"50px"}},[s("el-table",{attrs:{data:e.workCaseData,border:""}},[s("el-table-column",{attrs:{label:"案件编号",align:"center",prop:"case_id",width:"200"}}),e._v(" "),s("el-table-column",{attrs:{label:"报案人姓名",align:"center",prop:"reporter.name",width:"100"}}),e._v(" "),s("el-table-column",{attrs:{label:"性别",align:"center",prop:"reporter.gender",width:"70"}}),e._v(" "),s("el-table-column",{attrs:{label:"年龄",align:"center",prop:"reporter.age",width:"70"}}),e._v(" "),s("el-table-column",{attrs:{label:"联系方式",align:"center",prop:"reporter.phone",width:"150"}}),e._v(" "),s("el-table-column",{attrs:{label:"报案时间",align:"center",prop:"occur_time",width:"200"}}),e._v(" "),s("el-table-column",{attrs:{label:"案件类型",align:"center",prop:"case_type",width:"220"}}),e._v(" "),s("el-table-column",{attrs:{label:"上报单位",align:"center",prop:"work_place",width:"100"}}),e._v(" "),s("el-table-column",{attrs:{label:"上报人员",align:"center",prop:"registrant.name",width:"130"}}),e._v(" "),s("el-table-column",{attrs:{label:"状态",align:"center",prop:"check_status",width:"140"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作",align:"center",fixed:"right",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return e.showDetail(t.row)}}},[e._v("查看详情")]),e._v(" "),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return e.dealCase(t.row)}}},[e._v("处理案件")])]}}])})],1)],1)],1)},[],!1,null,"7ed9f81b",null).exports),z={components:{caseDialog:b},data:()=>({dialogVisible:!1,allData:[],fileCaseData:[],caseDetail:{},caseDetailReporter:{},caseDetailSuffer:{},caseDetailSuspect:{},caseDetailWitness:{},caseDetailProperty:{},show_suffer:!0,show_suspect:!0,show_witness:!0,show_property:!0,name:""}),methods:{print(){document.getElementsByClassName("print_detail_button")[0].style.display="none";let e=document.getElementById("detail_print").innerHTML;document.body.innerHTML=e,window.print(),window.location.reload()},getCases(){u.a.create({headers:{Authorization:"JWT "+this.token}}).get("/api/v1/cases/").then(e=>{let t=[],s=e.data.length;for(let a=0;a<s;a++)3===e.data[a].deal_status&&t.push(e.data[a]);this.fileCaseData=t,this.allData=t}).catch(e=>{this.fail("获取归档案件列表失败！")})},showDetail(e){this.caseDetail={},this.caseDetailReporter={},this.caseDetailSuffer={},this.caseDetailSuspect={},this.caseDetailWitness={},this.caseDetailProperty={},this.dialogVisible=!0,this.caseDetail=e,this.caseDetailReporter=e.reporter,e.sufferer?(this.caseDetailSuffer=e.sufferer,this.show_suffer=!0):this.show_suffer=!1,e.suspect?(this.caseDetailSuspect=e.suspect,this.show_suspect=!0):this.show_suspect=!1,e.witness?(this.caseDetailWitness=e.witness,this.show_witness=!0):this.show_witness=!1,e.property_loss?(this.caseDetailProperty=e.property_loss,this.show_property=!0):this.show_property=!1},closeDetail(){this.dialogVisible=!1},searchName(){if(this.fileCaseData=this.allData,""===this.name)this.$message("请输入要搜索的报案人姓名！");else{let e=[],t=this.fileCaseData.length;for(let s=0;s<t;s++)this.fileCaseData[s].reporter.name===this.name&&e.push(this.fileCaseData[s]);this.fileCaseData=e}},handleTime(e){if(e){return e.substring(0,19).replace("T"," ")}},handleEducation(e){switch(e.education){case 0:e.education="小学";break;case 1:e.education="初中";break;case 2:e.education="高中";break;case 3:e.education="专科";break;case 4:e.education="本科";break;case 5:e.education="硕士";break;case 6:e.education="博士"}},handleIdentityDocument(e){switch(e.identity_document){case 0:e.identity_document="护照";break;case 1:e.identity_document="学生证";break;case 2:e.identity_document="身份证"}}},mounted(){u.a.defaults.headers.common.Authorization="JWT "+this.token,this.getCases()},watch:{name:function(){""===this.name&&(this.fileCaseData=this.allData)},fileCaseData:function(){let e=this.fileCaseData.length;for(let t=0;t<e;t++)0===this.fileCaseData[t].check_status?this.fileCaseData[t].check_status="未审核":1===this.fileCaseData[t].check_status?this.fileCaseData[t].check_status="审核通过":2===this.fileCaseData[t].check_status&&(this.fileCaseData[t].check_status="审核未通过"),this.fileCaseData[t].filing_time=this.handleTime(this.fileCaseData[t].filing_time),this.handleEducation(this.fileCaseData[t].reporter),this.fileCaseData[t].sufferer&&this.handleEducation(this.fileCaseData[t].sufferer),this.fileCaseData[t].suspect&&this.handleEducation(this.fileCaseData[t].suspect),this.fileCaseData[t].witness&&this.handleEducation(this.fileCaseData[t].witness),this.handleIdentityDocument(this.fileCaseData[t].reporter),this.fileCaseData[t].sufferer&&this.handleIdentityDocument(this.fileCaseData[t].sufferer),this.fileCaseData[t].suspect&&this.handleIdentityDocument(this.fileCaseData[t].suspect),this.fileCaseData[t].witness&&this.handleIdentityDocument(this.fileCaseData[t].witness)}},computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e})({},Object(a.c)({token:e=>e.token}))},B=(s(150),Object(r.a)(z,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-dialog",{attrs:{title:"案件详情",width:"90%",visible:e.dialogVisible,"before-close":e.closeDetail},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("div",{attrs:{id:"detail_print"}},[s("case-dialog",{attrs:{caseDetail:e.caseDetail,caseDetailReporter:e.caseDetailReporter,caseDetailSuffer:e.caseDetailSuffer,caseDetailSuspect:e.caseDetailSuspect,caseDetailWitness:e.caseDetailWitness,caseDetailProperty:e.caseDetailProperty,show_suffer:e.show_suffer,show_suspect:e.show_suspect,show_witness:e.show_witness,show_property:e.show_property}}),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[e._v("\n                审核结果\n                "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"审核结果:"}},[e._v(e._s(e.caseDetail.check_status))]),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"原因:"}},[e._v(e._s(e.caseDetail.pass_reason))])],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[e._v("\n                处理结果\n                "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"处理结果:"}},[e._v(e._s(e.caseDetail.deal_result))])],1)],1),e._v(" "),s("div",{staticClass:"print_detail_button",staticStyle:{"text-align":"left"}},[s("el-button",{attrs:{type:"message"},on:{click:e.print}},[e._v("点击打印")])],1)],1)]),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[e._v("\n        报案人姓名:\n        "),s("el-input",{staticStyle:{width:"20%","margin-right":"5px"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),s("el-button",{attrs:{type:"success"},on:{click:e.searchName}},[e._v("查询")])],1),e._v(" "),s("div",{staticStyle:{"margin-top":"50px"}},[s("el-table",{attrs:{data:e.fileCaseData,border:""}},[s("el-table-column",{attrs:{label:"案件编号",align:"center",prop:"case_id"}}),e._v(" "),s("el-table-column",{attrs:{label:"归档时间",align:"center",prop:"filing_time"}}),e._v(" "),s("el-table-column",{attrs:{label:"报案人",align:"center",prop:"reporter.name"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return e.showDetail(t.row)}}},[e._v("查看详情")])]}}])})],1)],1)],1)},[],!1,null,"cc778628",null).exports),q={data:()=>({}),methods:{},mounted:function(){},watch:{}},J=Object(r.a)(q,function(){var e=this.$createElement;return(this._self._c||e)("p",[this._v("首页")])},[],!1,null,"6889283c",null).exports,M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e};let Y=s(6);s(217),s(233),s(243),s(253);var H={name:"caseStatic",components:{caseDialog:b},data:()=>({college:"",allCases:[],caseLists:[],caseType:[],caseTypeNumber:[],show_chart:!1,work_places:[{name:"信息与通信工程学院",id:1},{name:"材料与能源学院",id:2},{name:"光电科学与工程学院",id:3},{name:"材料与环境学院",id:4},{name:"信息与软件工程学院",id:5},{name:"数学科学学院",id:6},{name:"医学院",id:7},{name:"经济与管理学院",id:8},{name:"外国语学院",id:9},{name:"格拉斯哥学院",id:10},{name:"基础与前沿研究院",id:11},{name:"英才实验学院",id:12},{name:"电子科学与工程学院",id:13},{name:"机械与电气工程学院",id:14},{name:"自动化工程学院",id:15},{name:"计算机科学与工程学院",id:16},{name:"航空航天学院",id:17},{name:"物理学院",id:18},{name:"生命科学与技术学院",id:19},{name:"公共管理学院",id:20},{name:"马克思主义学院",id:21},{name:"体育部",id:22},{name:"通信抗干扰技术国家级重点实验室",id:23},{name:"学校办公室",id:24},{name:"图书馆",id:25},{name:"校团委(创新创业学院)",id:26},{name:"校医院",id:29},{name:"保卫处",id:30},{name:"教务处",id:31},{name:"财务处",id:32},{name:"其他",id:33},{name:"全部",id:34}],dialogVisible:!1,caseDetail:{},caseDetailReporter:{},caseDetailSuffer:{},caseDetailSuspect:{},caseDetailWitness:{},caseDetailProperty:{},show_suffer:!0,show_suspect:!0,show_witness:!0,show_property:!0,jsonData:[]}),methods:{getCases(){u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}}).get("/api/v1/cases/").then(e=>{this.allCases=e.data,this.caseLists=e.data}).catch(e=>{this.$message({message:"获取案件列表失败！",type:"error"})})},drawPie(e,t){Y.init(document.getElementById("pie")).setOption({series:[{type:"pie",data:t}]})},drawBar(e,t,s){Y.init(document.getElementById("bar")).setOption({tooltip:{},xAxis:{data:t},yAxis:{},series:[{type:"bar",data:s}]})},changeShow(e){0===e?this.show_chart=!1:1===e&&(""===this.college||"全部"===this.college?this.$message("请选择学院或者单位！"):(this.show_chart=!0,this.$nextTick(function(){this.drawBar(this.college,this.caseType,this.caseTypeNumber),this.drawPie(this.college,this.organizePieArray(this.caseType,this.caseTypeNumber))})))},organizePieArray(e,t){let s=e.length,a=[];for(let i=0;i<s;i++)a.push({name:e[i],value:t[i]});return a},showDetail(e){this.caseDetail={},this.caseDetailReporter={},this.caseDetailSuffer={},this.caseDetailSuspect={},this.caseDetailWitness={},this.caseDetailProperty={},this.dialogVisible=!0,this.caseDetail=e,this.caseDetailReporter=e.reporter,e.sufferer?(this.caseDetailSuffer=e.sufferer,this.show_suffer=!0):this.show_suffer=!1,e.suspect?(this.caseDetailSuspect=e.suspect,this.show_suspect=!0):this.show_suspect=!1,e.witness?(this.caseDetailWitness=e.witness,this.show_witness=!0):this.show_witness=!1,e.property_loss?(this.caseDetailProperty=e.property_loss,this.show_property=!0):this.show_property=!1},closeDetail(){this.dialogVisible=!1},handleJsonTable(){let e=this.caseLists.length;this.jsonData.push({case_id:"案件编号",name:"报案人姓名",phone:"电话",case_type:"案件类型",work_place:"学院或单位",registrant:"登记人"});for(let t=0;t<e;t++)this.jsonData.push({case_id:this.caseLists[t].case_id,name:this.caseLists[t].reporter.name,phone:this.caseLists[t].reporter.phone,case_type:this.caseLists[t].case_type,work_place:this.caseLists[t].reporter.work_place,registrant:this.caseLists[t].registrant.name})},tableExcel(){this.handleJsonTable();let e="",t=this.jsonData.length;for(let s=0;s<t;s++){for(let t in this.jsonData[s])e+=`${this.jsonData[s][t]+"\t"},`;e+="\n"}let s="data:text/csv;charset=utf-8,\ufeff"+encodeURIComponent(e),a=document.createElement("a");a.href=s,a.download="案件统计.csv",document.body.appendChild(a),a.click(),document.body.removeChild(a)},handleTime(e){if(e){return e.substring(0,19).replace("T"," ")}},handleEducation(e){switch(e.education){case 0:e.education="小学";break;case 1:e.education="初中";break;case 2:e.education="高中";break;case 3:e.education="专科";break;case 4:e.education="本科";break;case 5:e.education="硕士";break;case 6:e.education="博士"}},handleIdentityDocument(e){switch(e.identity_document){case 0:e.identity_document="护照";break;case 1:e.identity_document="学生证";break;case 2:e.identity_document="身份证"}}},computed:M({},Object(a.c)({token:e=>e.token})),mounted(){u.a.defaults.headers.common.Authorization="JWT "+this.token,this.getCases()},watch:{college:function(){if("全部"===this.college)this.caseLists=this.allCases,this.show_chart=!1;else{this.caseLists=this.allCases;let e=this.caseLists.length,t=[];for(let s=0;s<e;s++)this.college===this.caseLists[s].reporter.work_place&&t.push(this.caseLists[s]);this.caseLists=t,this.caseLists.sort((e,t)=>e.case_type-t.case_type);let s=[],a=this.caseLists.length;for(let e=0;e<a;e++)s.push(this.caseLists[e].case_type);s.sort();let i=[s[0]];for(let e=1;e<a;e++)s[e]!==i[i.length-1]&&i.push(s[e]);this.caseType=i,console.log(this.caseType);let l=this.caseType.length,r=new Array(l);r.fill(0);for(let e=0;e<l;e++)for(let t=0;t<a;t++)this.caseType[e]===s[t]&&(r[e]+=1);this.caseTypeNumber=r,console.log(this.caseTypeNumber),this.show_chart&&(""===this.college?this.$message("请选择学院或者单位！"):(this.show_chart=!0,this.$nextTick(function(){this.drawBar(this.college,this.caseType,this.caseTypeNumber),this.drawPie(this.college,this.organizePieArray(this.caseType,this.caseTypeNumber))})))}},caseLists:function(){let e=this.caseLists.length;for(let t=0;t<e;t++)0===this.caseLists[t].check_status?this.caseLists[t].check_status="待审核":1===this.caseLists[t].check_status?this.caseLists[t].check_status="审核通过":2===this.caseLists[t].check_status&&(this.caseLists[t].check_status="审核未通过"),this.caseLists[t].occur_time=this.handleTime(this.caseLists[t].occur_time),this.handleEducation(this.caseLists[t].reporter),this.caseLists[t].sufferer&&this.handleEducation(this.caseLists[t].sufferer),this.caseLists[t].suspect&&this.handleEducation(this.caseLists[t].suspect),this.caseLists[t].witness&&this.handleEducation(this.caseLists[t].witness),this.handleIdentityDocument(this.caseLists[t].reporter),this.caseLists[t].sufferer&&this.handleIdentityDocument(this.caseLists[t].sufferer),this.caseLists[t].suspect&&this.handleIdentityDocument(this.caseLists[t].suspect),this.caseLists[t].witness&&this.handleIdentityDocument(this.caseLists[t].witness)}}},U=(s(254),Object(r.a)(H,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-dialog",{attrs:{title:"案件详情",width:"90%",visible:e.dialogVisible,"before-close":e.closeDetail},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("case-dialog",{attrs:{caseDetail:e.caseDetail,caseDetailReporter:e.caseDetailReporter,caseDetailSuffer:e.caseDetailSuffer,caseDetailSuspect:e.caseDetailSuspect,caseDetailWitness:e.caseDetailWitness,caseDetailProperty:e.caseDetailProperty,show_suffer:e.show_suffer,show_suspect:e.show_suspect,show_witness:e.show_witness,show_property:e.show_property}}),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[e._v("\n            审核结果\n            "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"审核结果:"}},[e._v(e._s(e.caseDetail.check_status))]),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"原因:"}},[e._v(e._s(e.caseDetail.pass_reason))])],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[e._v("\n            处理结果\n            "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"处理结果:"}},[e._v(e._s(e.caseDetail.deal_result))])],1)],1)],1),e._v(" "),s("div",{staticStyle:{"margin-top":"10px","text-align":"left"}},[e._v("\n        学院或单位：\n        "),s("el-select",{staticStyle:{"margin-right":"20px"},attrs:{placeholder:"请选择"},model:{value:e.college,callback:function(t){e.college=t},expression:"college"}},e._l(e.work_places,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})}),1),e._v(" "),s("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.changeShow(0)}}},[e._v("表格形式")]),e._v(" "),s("el-button",{attrs:{type:"success"},on:{click:function(t){return e.changeShow(1)}}},[e._v("图表形式")])],1),e._v(" "),s("div",{staticClass:"excel",staticStyle:{"margin-top":"25px","text-align":"left"}},[s("div",{staticStyle:{float:"left","margin-top":"10px"}},[e._v(e._s(e.college)+"共有 "+e._s(e.caseLists.length)+" 起案件")]),e._v(" "),e.show_chart?e._e():s("div",{staticStyle:{float:"right","margin-right":"30px"}},[s("el-button",{attrs:{type:"message"},on:{click:e.tableExcel}},[e._v("导出Excel")])],1)]),e._v(" "),e.show_chart?e._e():s("div",{staticStyle:{"margin-top":"40px"}},[s("el-table",{attrs:{data:e.caseLists,border:""}},[s("el-table-column",{attrs:{label:"案件编号",align:"center",prop:"case_id"}}),e._v(" "),s("el-table-column",{attrs:{label:"报案人姓名",align:"center",prop:"reporter.name"}}),e._v(" "),s("el-table-column",{attrs:{label:"联系方式",align:"center",prop:"reporter.phone"}}),e._v(" "),s("el-table-column",{attrs:{label:"案件类型",align:"center",prop:"case_type"}}),e._v(" "),s("el-table-column",{attrs:{label:"学院或单位",align:"center",prop:"reporter.work_place"}}),e._v(" "),s("el-table-column",{attrs:{label:"上报人员",align:"center",prop:"registrant.name"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return e.showDetail(t.row)}}},[e._v("查看详情")])]}}],null,!1,1488308130)})],1)],1),e._v(" "),e.show_chart?s("div",{staticClass:"chart",staticStyle:{"margin-top":"30px"}},[s("div",{attrs:{id:"pie"}}),e._v(" "),s("div",{attrs:{id:"bar"}})]):e._e()],1)},[],!1,null,"7ccc1446",null).exports),G={name:"trackRecord",data:()=>({allData:[],logs:[],time:"",name:""}),methods:{getRecord(){u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}}).get("/api/v1/logs/").then(e=>{let t=e.data;t.reverse(),this.allData=t,this.logs=t}).catch(e=>{this.$message({message:"获取操作日志失败！",type:"error"})})},handleTime:e=>e.substring(0,19).replace("T"," "),changeTime(e){if(e.getFullYear){let t=e.getFullYear(),s=e.getMonth()+1,a=e.getDate();return t+"-"+this.formTime(s)+"-"+this.formTime(a)}return e},formTime:e=>e>9?e:"0"+e,searchTime(){this.time=this.changeTime(this.time);let e=[],t=this.logs.length;for(let s=0;s<t;s++){this.logs[s].create_time.substring(0,10)===this.time&&e.push(this.logs[s])}this.logs=e},searchName(){let e=[],t=this.logs.length;for(let s=0;s<t;s++)this.logs[s].username===this.name&&e.push(this.logs[s]);this.logs=e},search(){this.logs=this.allData,""!==this.time&&null!==this.time||""!==this.name?""!==this.time&&""===this.name?this.searchTime():""!==this.time&&null!==this.time||""===this.name?""!==this.time&&""!==this.name&&(this.searchTime(),this.searchName()):this.searchName():this.$message("请输入要搜索的时间或者用户名！")}},computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e})({},Object(a.c)({token:e=>e.token,track:e=>e.track})),mounted(){u.a.defaults.headers.common.Authorization="JWT "+this.token,this.getRecord()},watch:{logs:function(){let e=this.logs.length;for(let t=0;t<e;t++)this.logs[t].create_time=this.handleTime(this.logs[t].create_time)},time:function(){""!==this.time&&null!==this.time||""!==this.name||(this.logs=this.allData)},name:function(){""!==this.time&&null!==this.time||""!==this.name||(this.logs=this.allData)}}},K=(s(255),Object(r.a)(G,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticStyle:{"text-align":"left"}},[e._v("\n        时间：\n        "),s("el-date-picker",{attrs:{type:"date",placeholder:"请选择日期"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}}),e._v("    \n        用户名：\n        "),s("el-input",{staticClass:"searchName",attrs:{placeholder:"请输入查询的用户名"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),s("el-button",{staticStyle:{margin:"0 20px"},attrs:{type:"success"},on:{click:e.search}},[e._v("搜索")])],1),e._v(" "),s("div",{staticStyle:{"margin-top":"50px"}},[s("el-table",{attrs:{data:e.logs,border:""}},[s("el-table-column",{attrs:{label:"用户名称",align:"center",prop:"username"}}),e._v(" "),s("el-table-column",{attrs:{label:"时间",align:"center",prop:"create_time"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作",align:"center",prop:"operation"}})],1)],1)])},[],!1,null,"fd59bf50",null).exports),Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},X={name:"suspectBank",components:{caseDialog:b},data:()=>({suspectLists:[],dialogVisible:!1,caseDetail:{},caseDetailReporter:{},caseDetailSuffer:{},caseDetailSuspect:{},caseDetailWitness:{},caseDetailProperty:{},show_suffer:!0,show_suspect:!0,show_witness:!0,show_property:!0,name:""}),methods:Q({getSuspect(){u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}}).get("/api/v1/cases/suspect/").then(e=>{this.suspectLists=e.data,this.setSuspect(e.data)}).catch(e=>{})},showDetail(e){this.caseDetail={},this.caseDetailReporter={},this.caseDetailSuffer={},this.caseDetailSuspect={},this.caseDetailWitness={},this.caseDetailProperty={},this.dialogVisible=!0,this.caseDetail=e,this.caseDetailReporter=e.reporter,e.sufferer?(this.caseDetailSuffer=e.sufferer,this.show_suffer=!0):this.show_suffer=!1,e.suspect?(this.caseDetailSuspect=e.suspect,this.show_suspect=!0):this.show_suspect=!1,e.witness?(this.caseDetailWitness=e.witness,this.show_witness=!0):this.show_witness=!1,e.property_loss?(this.caseDetailProperty=e.property_loss,this.show_property=!0):this.show_property=!1},closeDetail(){this.dialogVisible=!1},searchName(){if(this.suspectLists=this.suspectList,""===this.name)this.$message("请输入要搜索的嫌疑人姓名！");else{let e=[],t=this.suspectLists.length;for(let s=0;s<t;s++)this.suspectLists[s].suspect.name===this.name&&e.push(this.suspectLists[s]);this.suspectLists=e}},handleTime(e){if(e){return e.substring(0,19).replace("T"," ")}},handleEducation(e){switch(e.education){case 0:e.education="小学";break;case 1:e.education="初中";break;case 2:e.education="高中";break;case 3:e.education="专科";break;case 4:e.education="本科";break;case 5:e.education="硕士";break;case 6:e.education="博士"}},handleIdentityDocument(e){switch(e.identity_document){case 0:e.identity_document="护照";break;case 1:e.identity_document="学生证";break;case 2:e.identity_document="身份证"}}},Object(a.b)(["setSuspect"])),computed:Q({},Object(a.c)({token:e=>e.token,suspectList:e=>e.suspectList})),mounted(){u.a.defaults.headers.common.Authorization="JWT "+this.token,this.getSuspect()},watch:{suspectLists:function(){let e=this.suspectLists.length;for(let t=0;t<e;t++)this.suspectLists[t].gender=this.suspectLists[t].gender?"男":"女",0===this.suspectLists[t].check_status?this.suspectLists[t].check_status="待审核":1===this.suspectLists[t].check_status?this.suspectLists[t].check_status="审核通过":2===this.suspectLists[t].check_status&&(this.suspectLists[t].check_status="审核未通过"),this.suspectLists[t].occur_time=this.handleTime(this.suspectLists[t].occur_time),this.handleEducation(this.suspectLists[t].reporter),this.suspectLists[t].sufferer&&this.handleEducation(this.suspectLists[t].sufferer),this.suspectLists[t].suspect&&this.handleEducation(this.suspectLists[t].suspect),this.suspectLists[t].witness&&this.handleEducation(this.suspectLists[t].witness),this.handleIdentityDocument(this.suspectLists[t].reporter),this.suspectLists[t].sufferer&&this.handleIdentityDocument(this.suspectLists[t].sufferer),this.suspectLists[t].suspect&&this.handleIdentityDocument(this.suspectLists[t].suspect),this.suspectLists[t].witness&&this.handleIdentityDocument(this.suspectLists[t].witness)},name:function(){""===this.name&&(this.suspectLists=this.suspectList)}}},Z=(s(256),Object(r.a)(X,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-dialog",{attrs:{title:"案件详情",width:"90%",visible:e.dialogVisible,"before-close":e.closeDetail},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("case-dialog",{attrs:{caseDetail:e.caseDetail,caseDetailReporter:e.caseDetailReporter,caseDetailSuffer:e.caseDetailSuffer,caseDetailSuspect:e.caseDetailSuspect,caseDetailWitness:e.caseDetailWitness,caseDetailProperty:e.caseDetailProperty,show_suffer:e.show_suffer,show_suspect:e.show_suspect,show_witness:e.show_witness,show_property:e.show_property}}),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[e._v("\n            审核结果\n            "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"审核结果:"}},[e._v(e._s(e.caseDetail.check_status))]),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"原因:"}},[e._v(e._s(e.caseDetail.pass_reason))])],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[e._v("\n            处理结果\n            "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"处理结果:"}},[e._v(e._s(e.caseDetail.deal_result))])],1)],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[e._v("\n        嫌疑人姓名:\n        "),s("el-input",{staticStyle:{width:"20%"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),s("el-button",{attrs:{type:"success"},on:{click:e.searchName}},[e._v("查询")])],1),e._v(" "),s("el-table",{staticStyle:{"margin-top":"50px"},attrs:{data:e.suspectLists,border:""}},[s("el-table-column",{attrs:{label:"嫌疑人姓名",align:"center",prop:"suspect.name",width:"150"}}),e._v(" "),s("el-table-column",{attrs:{label:"性别",align:"center",prop:"suspect.gender"}}),e._v(" "),s("el-table-column",{attrs:{label:"年龄",align:"center",prop:"suspect.age"}}),e._v(" "),s("el-table-column",{attrs:{label:"联系方式",align:"center",prop:"suspect.phone",width:"130"}}),e._v(" "),s("el-table-column",{attrs:{label:"住址",align:"center",prop:"suspect.home_addr",width:"200"}}),e._v(" "),s("el-table-column",{attrs:{label:"证件类型",align:"center",prop:"suspect.identity_document",width:"110"}}),e._v(" "),s("el-table-column",{attrs:{label:"证件号",align:"center",prop:"suspect.identity_number",width:"130"}}),e._v(" "),s("el-table-column",{attrs:{label:"工作地点",align:"center",prop:"suspect.work_place"}}),e._v(" "),s("el-table-column",{attrs:{label:"民族",align:"center",prop:"suspect.nation"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作",align:"center",fixed:"right",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return e.showDetail(t.row)}}},[e._v("查看详情")])]}}])})],1)],1)},[],!1,null,"660df1b4",null).exports),ee={name:"weekSummary",components:{caseDialog:b},data:()=>({weeklyLists:[],weekCase:{},years:[{name:"2011",id:1},{name:"2012",id:2},{name:"2013",id:3},{name:"2014",id:4},{name:"2015",id:5},{name:"2016",id:6},{name:"2017",id:7},{name:"2018",id:8},{name:"2019",id:9}],year:"",week:null,dialogVisible:!1,caseDetail:{},caseDetailReporter:{},caseDetailSuffer:{},caseDetailSuspect:{},caseDetailWitness:{},caseDetailProperty:{},show_suffer:!0,show_suspect:!0,show_witness:!0,show_property:!0}),methods:{getWeeks(){u.a.post("/api/v1/cases/"+this.year+"/weekly/").then(e=>{this.weeklyLists=e.data,this.week=this.weeklyLists.length}).catch(e=>{})},showDetail(e){this.caseDetail={},this.caseDetailReporter={},this.caseDetailSuffer={},this.caseDetailSuspect={},this.caseDetailWitness={},this.caseDetailProperty={},this.dialogVisible=!0,this.caseDetail=e,this.caseDetailReporter=e.reporter,e.sufferer?(this.caseDetailSuffer=e.sufferer,this.show_suffer=!0):this.show_suffer=!1,e.suspect?(this.caseDetailSuspect=e.suspect,this.show_suspect=!0):this.show_suspect=!1,e.witness?(this.caseDetailWitness=e.witness,this.show_witness=!0):this.show_witness=!1,e.property_loss?(this.caseDetailProperty=e.property_loss,this.show_property=!0):this.show_property=!1},closeDetail(){this.dialogVisible=!1},handleTime(e){if(e){return e.substring(0,19).replace("T"," ")}},handleEducation(e){switch(e.education){case 0:e.education="小学";break;case 1:e.education="初中";break;case 2:e.education="高中";break;case 3:e.education="专科";break;case 4:e.education="本科";break;case 5:e.education="硕士";break;case 6:e.education="博士"}},handleIdentityDocument(e){switch(e.identity_document){case 0:e.identity_document="护照";break;case 1:e.identity_document="学生证";break;case 2:e.identity_document="身份证"}}},computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e})({},Object(a.c)({token:e=>e.token})),mounted(){u.a.defaults.headers.common.Authorization="JWT "+this.token,this.year="2019"},watch:{year:function(){this.weeklyLists=[],this.getWeeks()},week:function(){this.weekCase={},this.weekCase=this.weeklyLists[this.week-1];let e=this.weekCase.cases.length;for(let t=0;t<e;t++)this.weekCase.cases[t].occur_time=this.handleTime(this.weekCase.cases[t].occur_time)},weekCase:function(){let e=this.weekCase.cases.length;for(let t=0;t<e;t++)0===this.weekCase.cases[t].check_status?this.weekCase.cases[t].check_status="待审核":1===this.weekCase.cases[t].check_status?this.weekCase.cases[t].check_status="审核通过":2===this.weekCase.cases[t].check_status&&(this.weekCase.cases[t].check_status="审核未通过"),this.weekCase.cases[t].occur_time=this.handleTime(this.weekCase.cases[t].occur_time),this.handleEducation(this.weekCase.cases[t].reporter),this.weekCase.cases[t].sufferer&&this.handleEducation(this.weekCase.cases[t].sufferer),this.weekCase.cases[t].suspect&&this.handleEducation(this.weekCase.cases[t].suspect),this.weekCase.cases[t].witness&&this.handleEducation(this.weekCase.cases[t].witness),this.handleIdentityDocument(this.weekCase.cases[t].reporter),this.weekCase.cases[t].sufferer&&this.handleIdentityDocument(this.weekCase.cases[t].sufferer),this.weekCase.cases[t].suspect&&this.handleIdentityDocument(this.weekCase.cases[t].suspect),this.weekCase.cases[t].witness&&this.handleIdentityDocument(this.weekCase.cases[t].witness)}}},te=(s(257),Object(r.a)(ee,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-dialog",{attrs:{title:"案件详情",width:"90%",visible:e.dialogVisible,"before-close":e.closeDetail},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("case-dialog",{attrs:{caseDetail:e.caseDetail,caseDetailReporter:e.caseDetailReporter,caseDetailSuffer:e.caseDetailSuffer,caseDetailSuspect:e.caseDetailSuspect,caseDetailWitness:e.caseDetailWitness,caseDetailProperty:e.caseDetailProperty,show_suffer:e.show_suffer,show_suspect:e.show_suspect,show_witness:e.show_witness,show_property:e.show_property}}),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[e._v("\n            审核结果\n            "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"审核结果:"}},[e._v(e._s(e.caseDetail.check_status))]),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"原因:"}},[e._v(e._s(e.caseDetail.pass_reason))])],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[e._v("\n            处理结果\n            "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"处理结果:"}},[e._v(e._s(e.caseDetail.deal_result))])],1)],1)],1),e._v(" "),s("div",{staticStyle:{"margin-top":"10px","text-align":"left"}},[e._v("\n        年份：\n        "),s("el-select",{staticStyle:{"margin-right":"20px"},attrs:{placeholder:"请选择年份"},model:{value:e.year,callback:function(t){e.year=t},expression:"year"}},e._l(e.years,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})}),1),e._v("\n        周数：\n        "),s("el-select",{staticStyle:{"margin-right":"20px"},attrs:{placeholder:"请选择周数"},model:{value:e.week,callback:function(t){e.week=t},expression:"week"}},e._l(53,function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})}),1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"left","margin-top":"30px"}},[e._v("日期："+e._s(e.weekCase.monday)+"—"+e._s(e.weekCase.sunday))]),e._v(" "),s("div",{staticStyle:{"margin-top":"50px"}},[s("el-table",{attrs:{data:e.weekCase.cases,border:""}},[s("el-table-column",{attrs:{label:"案件编号",align:"center",prop:"case_id"}}),e._v(" "),s("el-table-column",{attrs:{label:"报案人姓名",align:"center",prop:"reporter.name"}}),e._v(" "),s("el-table-column",{attrs:{label:"年龄",align:"center",prop:"reporter.age"}}),e._v(" "),s("el-table-column",{attrs:{label:"联系方式",align:"center",prop:"reporter.phone"}}),e._v(" "),s("el-table-column",{attrs:{label:"报案时间",align:"center",prop:"occur_time",width:"200"}}),e._v(" "),s("el-table-column",{attrs:{label:"案件类型",align:"center",prop:"case_type"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return e.showDetail(t.row)}}},[e._v("查看详情")])]}}])})],1)],1)],1)},[],!1,null,"ac5884ba",null).exports),se={name:"changePass",data(){return{PasswordForm:{pass:"",checkPass:""},PassRules:{pass:[{validator:(e,t,s)=>{""===t?s(new Error("请输入密码")):(""!==this.PasswordForm.checkPass&&this.$refs.PasswordForm.validateField("checkPass"),s())},trigger:"blur"}],checkPass:[{validator:(e,t,s)=>{""===t?s(new Error("请再次输入密码")):t!==this.PasswordForm.pass?s(new Error("两次输入密码不一致!")):s()},trigger:"blur"}]}}},methods:{resetForm(e){this.$refs[e].resetFields()},confirmPass(e){this.$refs[e].validate(e=>{if(e){let e=s(8),t=u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}}),a=e.stringify({password:this.PasswordForm.pass});t.post("/api/v1/users/reset_pwd/",a).then(e=>{this.resetForm("PasswordForm"),this.$message({message:"修改密码成功！",type:"success"})}).catch(e=>{this.$message({message:"修改密码失败！",type:"error"})})}})}},computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e})({},Object(a.c)({token:e=>e.token})),mounted(){u.a.defaults.headers.common.Authorization="JWT "+this.token}},ae=Object(r.a)(se,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h3",{staticStyle:{"text-align":"left"}},[e._v("修改密码")]),e._v(" "),s("hr"),e._v(" "),s("el-form",{ref:"PasswordForm",staticStyle:{width:"500px",margin:"70px auto"},attrs:{model:e.PasswordForm,rules:e.PassRules,"label-position":"right","label-width":"100px"}},[s("el-form-item",{attrs:{label:"新密码",prop:"pass"}},[s("el-input",{attrs:{placeholder:"请输入新的密码",type:"password"},model:{value:e.PasswordForm.pass,callback:function(t){e.$set(e.PasswordForm,"pass",t)},expression:"PasswordForm.pass"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[s("el-input",{attrs:{placeholder:"请再次输入新密码",type:"password"},model:{value:e.PasswordForm.checkPass,callback:function(t){e.$set(e.PasswordForm,"checkPass",t)},expression:"PasswordForm.checkPass"}})],1)],1),e._v(" "),s("div",[s("el-button",{on:{click:function(t){return e.resetForm("PasswordForm")}}},[e._v("重置")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.confirmPass("PasswordForm")}}},[e._v("确 定")])],1)],1)},[],!1,null,"d4b4a576",null).exports,ie={data:()=>({dialogVisible:!1,state:"0",currentPage:1,pageCount:0,tableData:[],caseDetail:{},form:{id:"",audit:"1",result:""}}),methods:{unreviewed(e){this.state=e;let t=s(8),a=u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}}),i=t.stringify({type_code:this.state,page_code:this.currentPage});a.post("/api/v1/cases/get_monitoring/",i).then(e=>{this.tableData=e.data.items,this.pageCount=e.data.totalNum}).catch(e=>{this.$message({message:e,type:"error"})})},handleClick(e){this.caseDetail=e,this.dialogVisible=!0},handleCurrentChange(){let e=s(8),t=u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}}),a=e.stringify({type_code:this.state,page_code:this.currentPage});t.post("/api/v1/cases/get_monitoring/",a).then(e=>{this.tableData=e.data.items,this.pageCount=e.data.totalNum}).catch(e=>{})}},mounted:function(){u.a.defaults.headers.common.Authorization="JWT "+this.token,this.unreviewed(0)},computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e})({},Object(a.c)({token:e=>e.token})),watch:{tableData:function(){let e=this.tableData.length;for(let t=0;t<e;t++)1==this.tableData[t].referto?this.tableData[t].referto="是":this.tableData[t].referto="否",1==this.tableData[t].emergency?this.tableData[t].emergency="是":this.tableData[t].emergency="否",1==this.tableData[t].sex?this.tableData[t].sex="男":this.tableData[t].sex="女"}}},le=(s(258),Object(r.a)(ie,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-dialog",{attrs:{title:"案件详情",width:"90%",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("div",{staticStyle:{"text-align":"left"}},[e._v("\n            报案类型\n            "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"案件编号:"}},[e._v(e._s(e.caseDetail.caseid))]),e._v(" "),s("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"报案类型:"}},[e._v(e._s(e.caseDetail.type))])],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[e._v("\n            报案人信息\n            "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"姓名:"}},[e._v(e._s(e.caseDetail.callpeople))]),e._v(" "),s("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"性别:"}},[e._v(e._s(e.caseDetail.sex))]),e._v(" "),s("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"年龄:"}},[e._v(e._s(e.caseDetail.age))]),e._v(" "),s("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"电话:"}},[e._v(e._s(e.caseDetail.phone))]),e._v(" "),s("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"年级:"}},[e._v(e._s(e.caseDetail.updatetime))]),e._v(" "),s("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"学院:"}},[e._v(e._s(e.caseDetail.address))]),e._v(" "),s("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"邮箱:"}},[e._v(e._s(e.caseDetail.email))]),e._v(" "),s("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"身份证:"}},[e._v(e._s(e.caseDetail.idcard))])],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[e._v("\n            案发情况\n            "),s("hr"),e._v(" "),s("el-form",{attrs:{inline:!0}},[s("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"案发时间:"}},[e._v(e._s(e.caseDetail.peroid))]),e._v(" "),s("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"案发地点:"}},[e._v(e._s(e.caseDetail.caseaddress))]),e._v(" "),s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"事件详情:"}},[e._v(e._s(e.caseDetail.details))]),e._v(" "),s("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"情况是否紧急:"}},[e._v(e._s(e.caseDetail.emergency))]),e._v(" "),s("el-form-item",{staticStyle:{width:"20%"},attrs:{label:"是否查看监控:"}},[e._v(e._s(e.caseDetail.referto))])],1)],1)]),e._v(" "),s("div",{staticStyle:{"text-align":"left"}},[s("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.unreviewed(0)}}},[e._v("待审核案件")]),e._v(" "),s("el-button",{attrs:{type:"success"},on:{click:function(t){return e.unreviewed(1)}}},[e._v("审核通过案件")]),e._v(" "),s("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.unreviewed(2)}}},[e._v("审核未通过案件")])],1),e._v(" "),s("div",{staticStyle:{"margin-top":"50px"}},[s("el-table",{attrs:{data:e.tableData,border:""}},[s("el-table-column",{attrs:{label:"案件编号",align:"center",prop:"caseid"}}),e._v(" "),s("el-table-column",{attrs:{label:"报案人",align:"center",prop:"callpeople"}}),e._v(" "),s("el-table-column",{attrs:{label:"提交时间",align:"center",prop:"alarmtime"}}),e._v(" "),s("el-table-column",{attrs:{label:"登记人",align:"center",prop:"spare1"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return e.handleClick(t.row)}}},[e._v("查看")])]}}])})],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[s("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":10,layout:"prev, pager, next, jumper",total:e.pageCount},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1)],1)},[],!1,null,"8af5bece",null).exports),re={name:"changeInfo",data:()=>({form:{name:"",phone:"",email:"",identity_card:""},RulesForm:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}],email:[{required:!0,message:"请输入姓名",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur,change"}],identity_card:[{required:!0,message:"请输入身份证",trigger:"blur"}],phone:[{required:!0,message:"请输入联系方式",trigger:"blur"}]}}),methods:{resetForm(e){this.$refs[e].resetFields()},confirmInfo(e){this.$refs[e].validate(e=>{if(e){let e=s(8),t=u.a.create({headers:{"content-type":"application/x-www-form-urlencoded"}}),a=e.stringify({name:this.form.name,email:this.form.email,phone:this.form.phone,identity_card:this.form.identity_card});t.post("/api/v1/users/change/",a).then(e=>{this.resetForm("form"),this.$message({message:"修改用户信息成功！",type:"success"})}).catch(function(e){this.$message({message:"修改用户信息失败！",type:"error"})})}})}},computed:(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e})({},Object(a.c)({token:e=>e.token})),mounted(){u.a.defaults.headers.common.Authorization="JWT "+this.token}},ne=[{path:"/",redirect:"/sign"},{path:"/sign",component:m},{path:"/manager",component:_,children:[{path:"/",component:J},{path:"caseReview",component:g},{path:"addAccount",component:k},{path:"caseRegistration",component:$},{path:"historyCase",component:P},{path:"manageAccount",component:O},{path:"manageLabel",component:W},{path:"stayCase",component:A},{path:"workCase",component:N},{path:"fileCase",component:B},{path:"caseStatic",component:U},{path:"suspectBank",component:Z},{path:"trackRecord",component:K},{path:"weekSummary",component:te},{path:"changePass",component:ae},{path:"monitorCenter",component:le},{path:"changeInfo",component:Object(r.a)(re,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h3",{staticStyle:{"text-align":"left"}},[e._v("修改账户信息")]),e._v(" "),s("hr"),e._v(" "),s("el-form",{ref:"form",staticStyle:{margin:"50px auto",width:"500px"},attrs:{model:e.form,rules:e.RulesForm,"label-position":"right","label-width":"100px"}},[s("el-form-item",{attrs:{label:"姓 名：",prop:"name"}},[s("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"电 话：",prop:"phone"}},[s("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"邮 箱：",prop:"email"}},[s("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"身份证：",prop:"identity_card"}},[s("el-input",{model:{value:e.form.identity_card,callback:function(t){e.$set(e.form,"identity_card",t)},expression:"form.identity_card"}})],1),e._v(" "),s("div",{staticStyle:{"font-size":"14px"}},[e._v("用户名以及用户权限不可更改")])],1),e._v(" "),s("span",{staticClass:"dialog-footer"},[s("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.confirmInfo("form")}}},[e._v("确 定")])],1)],1)},[],!1,null,"7a0ba344",null).exports}]}];Vue.use(ELEMENT),Vue.use(a.a),Vue.use(i.a);const oe=(()=>new i.a({routes:ne,mode:"history"}))(),ce=(()=>new a.a.Store({state:o,mutations:c}))();new Vue({el:"#root",router:oe,store:ce,render:e=>e(n)})},40:function(e,t,s){},41:function(e,t,s){},42:function(e,t,s){},43:function(e,t,s){},44:function(e,t,s){},45:function(e,t,s){},46:function(e,t,s){},47:function(e,t,s){},48:function(e,t,s){},49:function(e,t,s){},50:function(e,t,s){},51:function(e,t,s){},52:function(e,t,s){},53:function(e,t,s){},54:function(e,t,s){},55:function(e,t,s){},56:function(e,t,s){}},[[259,1,2]]]);